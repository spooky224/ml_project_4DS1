"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[9791],{3248:function(e,n,r){r.d(n,{ts:function(){return u},sO:function(){return c},sR:function(){return g},Px:function(){return p}});var t=r(76118),o=r(46709),i=r(91105),l=r(46441),a=r(63908);const s=e=>(0,t.isArray)(e)?e.join():e,d={searchFilter:{deserializeLocalStorage:s,deserializeQueryString:s},orderByAsc:{serializeQueryString(e){return e.toString()},deserializeQueryString(e){return"true"===e}},datasetsFilter:{serializeQueryString(e){const n=e.map((({name:e,digest:n,context:r})=>({name:e,digest:n,context:r})));return(0,a.Qr)(JSON.stringify(n))},deserializeQueryString(e){try{const n=JSON.parse((0,a.yv)(e));return Array.isArray(n)?n:[]}catch{return[]}}},compareRunCharts:{serializeQueryString(e){return(0,a.Qr)(JSON.stringify(e))},deserializeQueryString(e){try{const n=JSON.parse((0,a.yv)(e));if(!Array.isArray(n))return;return n}catch{return}}},compareRunsMode:{serializeLocalStorage(){}}},c=["searchFilter","orderByKey","orderByAsc","startTime","lifecycleFilter","modelVersionFilter","datasetsFilter"],u="isPreview",g=()=>{const[e]=(0,i.ok)(),n=(0,o.useMemo)((()=>(0,t.pick)(Object.fromEntries(e.entries()),c)),[e]),r="true"===e.get(u),{searchFilter:a,orderByKey:s,orderByAsc:g,startTime:p,lifecycleFilter:m,modelVersionFilter:h,datasetsFilter:f}=n,v=(0,t.keys)(n).length<1,{experimentId:y}=(0,i.g)(),C=e.get("experiments"),R=(0,o.useMemo)((()=>y?[y]:C?(e=>{try{return e?JSON.parse(e):[]}catch{return[]}})(C):[]),[y,C]);return[(0,o.useMemo)((()=>{if(v)return null;const e=(e=>{const n={...e};for(const t of Object.keys(n)){var r;const e=null===(r=d[t])||void 0===r?void 0:r.deserializeQueryString;e&&(n[t]=e(n[t]))}return n})((0,t.omitBy)({searchFilter:a,orderByKey:s,orderByAsc:g,startTime:p,lifecycleFilter:m,modelVersionFilter:h,datasetsFilter:f},t.isNil));return(0,t.assign)((0,l.G)(),e)}),[a,s,g,p,m,h,f,v]),R,r]},p=()=>{const[,e]=(0,i.ok)();return(n,r)=>{const o=(e=>{const n={...e};for(const t of Object.keys(n)){var r;const e=null===(r=d[t])||void 0===r?void 0:r.serializeQueryString;e&&(n[t]=e(n[t]))}return n})(n);e((e=>((0,t.entries)(o).forEach((([n,r])=>{e.set(n,r)})),e.delete(u),e)),r)}}},10165:function(e,n,r){r.d(n,{h:function(){return u}});var t,o,i,l,a,s=r(46709);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},d.apply(null,arguments)}function c({title:e,titleId:n,...r},c){return s.createElement("svg",d({width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:c,"aria-labelledby":n},r),e?s.createElement("title",{id:n},e):null,s.createElement("g",{clipPath:"url(#clip0_0_3)"},s.createElement("mask",{id:"mask0_0_3",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:0,y:0,width:16,height:16},t||(t=s.createElement("path",{d:"M16 0H0V16H16V0Z",fill:"white"}))),o||(o=s.createElement("g",{mask:"url(#mask0_0_3)"},s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 3.49999C2.05964 3.49999 1.5 4.05963 1.5 4.74999C1.5 5.44034 2.05964 5.99999 2.75 5.99999C3.44036 5.99999 4 5.44034 4 4.74999C4 4.05963 3.44036 3.49999 2.75 3.49999ZM0 4.74999C0 3.2312 1.23122 1.99999 2.75 1.99999C3.77682 1.99999 4.6722 2.56276 5.14452 3.39669L9.51655 2.44626C9.66772 1.0704 10.8338 0 12.25 0C13.7688 0 15 1.23122 15 2.75C15 3.87686 14.3222 4.84541 13.3521 5.27025L13.6341 7.52661C14.9711 7.71349 16 8.86158 16 10.25C16 11.7688 14.7687 13 13.25 13C12.3895 13 11.6214 12.6048 11.1172 11.9861L8.49749 13.1322C8.49913 13.1713 8.49997 13.2105 8.49997 13.25C8.49996 14.7688 7.26875 16 5.74997 16C4.23118 16 2.99997 14.7688 2.99996 13.25C2.99997 12.3569 3.42568 11.5633 4.08524 11.0609L3.01322 7.48755C2.92659 7.49578 2.83878 7.49999 2.75 7.49999C1.23122 7.49999 0 6.26877 0 4.74999ZM5.46534 5.18782C5.48277 5.07884 5.4938 4.96773 5.49804 4.85488L9.76409 3.92748C10.1528 4.74671 10.9346 5.34321 11.8658 5.47338L12.1478 7.72974C11.7709 7.89483 11.438 8.14204 11.1719 8.44873L5.46534 5.18782ZM4.82802 6.55126C4.70399 6.69422 4.56546 6.82424 4.41471 6.93906L5.48674 10.5124C5.57337 10.5042 5.66118 10.5 5.74997 10.5C6.69483 10.5 7.52839 10.9765 8.02345 11.7023L10.5231 10.6087C10.5079 10.4913 10.5 10.3716 10.5 10.25C10.5 10.101 10.5118 9.95475 10.5346 9.81218L4.82802 6.55126ZM12 10.25C12 9.55963 12.5596 8.99999 13.25 8.99999C13.9403 8.99999 14.5 9.55963 14.5 10.25C14.5 10.9403 13.9403 11.5 13.25 11.5C12.5596 11.5 12 10.9403 12 10.25ZM5.74997 12C5.05961 12 4.49997 12.5596 4.49997 13.25C4.49997 13.9403 5.05961 14.5 5.74997 14.5C6.44032 14.5 6.99997 13.9403 6.99997 13.25C6.99997 12.5596 6.44032 12 5.74997 12ZM11 2.75C11 2.05964 11.5596 1.5 12.25 1.5C12.9403 1.5 13.5 2.05964 13.5 2.75C13.5 3.44036 12.9403 4 12.25 4C11.5596 4 11 3.44036 11 2.75Z",fill:"currentColor"}))),i||(i=s.createElement("path",{d:"M13.5 14C15.433 14 17 12.433 17 10.5C17 8.567 15.433 7 13.5 7C11.567 7 10 8.567 10 10.5C10 12.433 11.567 14 13.5 14Z",fill:"white"})),l||(l=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.125 11C11.125 9.41218 12.4122 8.125 14 8.125C15.5878 8.125 16.875 9.41218 16.875 11C16.875 12.5878 15.5878 13.875 14 13.875C12.4122 13.875 11.125 12.5878 11.125 11ZM14 6.625C11.5838 6.625 9.625 8.58375 9.625 11C9.625 13.4162 11.5838 15.375 14 15.375C16.4162 15.375 18.375 13.4162 18.375 11C18.375 8.58375 16.4162 6.625 14 6.625ZM14.0303 12.5303L16.0303 10.5303L14.9697 9.46967L13.5 10.9393L13.0303 10.4697L11.9697 11.5303L12.9697 12.5303L13.5 13.0607L14.0303 12.5303Z",fill:"#3CAA60"}))),a||(a=s.createElement("defs",null,s.createElement("clipPath",{id:"clip0_0_3"},s.createElement("rect",{width:19,height:16,fill:"white"})))))}const u=s.forwardRef(c);r.p},20980:function(e,n,r){r.d(n,{b:function(){return d}});var t=r(46709),o=r(60062),i=r(91105),l=r(96980);const a=(e,n)=>`/explore/data/models/${e.replace(/\./g,"/")}/version/${n}`,s=(e,n)=>(0,i.Oz)(`/models/${e}/versions/${n}`),d=({loggedModels:e,checkAcl:n=!1})=>{const{modelVersions:r,ucModels:i}=(0,t.useMemo)((()=>{const n=e.flatMap((e=>{var n;const r=null!==(n=(e=>{try{var n,r,t;const o=null===(n=e.info)||void 0===n||null===(r=n.tags)||void 0===r||null===(t=r.find((e=>"mlflow.modelVersions"===e.key)))||void 0===t?void 0:t.value;if(o)return JSON.parse(o)}catch(o){return null}return null})(e))&&void 0!==n?n:[];return r.map((n=>{const r=(0,l.f)(n.name)?a:s;return{displayedName:n.name,version:n.version,link:r(n.name,n.version),source:null,status:null,sourceLoggedModel:e}}))})),r=n.filter((e=>e.displayedName&&(0,l.f)(e.displayedName)));return{modelVersions:n,ucModels:r}}),[e]),{aclResults:d,isLoading:c}=((e,n)=>{const r=(0,t.useMemo)((()=>(n&&e.length,[])),[e,n]),i=(0,o.E)({queries:r}),{aclResults:l,isLoading:a}=(0,t.useMemo)((()=>n&&0!==e.length?{aclResults:{},isLoading:i.some((e=>e.isLoading))}:{aclResults:{},isLoading:!1}),[i,n,e.length]);return{aclResults:l,isLoading:a}})(i,n);return{modelVersions:(0,t.useMemo)((()=>r.map((e=>{const r=e.displayedName,t=r&&(0,l.f)(r);let o=!0;var i;n&&t&&r&&(o=null!==(i=d[`${r}:${e.version}`])&&void 0!==i&&i);return{...e,hasAccess:o}}))),[r,n,d]),isLoading:c}}},29944:function(e,n,r){r.d(n,{v:function(){return a}});var t=r(46709),o=r(52572),i=r(34931),l=r(31655);const a=(e,n=!0)=>{const r=(0,o.e)(),a=(0,t.useRef)(e);a.current=e;const s=(0,t.useCallback)(((e,t,o)=>{r((r=>{if(e===i.oy.CUSTOM&&t){var s;const e={...r.runsVisibilityMap},i=null===(s=a.current.find((({rowUuid:e,groupParentInfo:n})=>e===t&&n)))||void 0===s?void 0:s.groupParentInfo;if(i&&(0,l.Bh)()&&!1===n)for(const n of i.runUuids)e[n]=!o;else e[t]=!o;return{...r,runsVisibilityMap:e}}return[i.oy.SHOWALL,i.oy.HIDEALL,i.oy.FIRST_10_RUNS,i.oy.FIRST_20_RUNS,i.oy.HIDE_FINISHED_RUNS].includes(e)?{...r,runsHiddenMode:e,runsHidden:[],runsVisibilityMap:{}}:r}))}),[r,n]),d=(0,t.useCallback)(((e,t)=>{r((r=>{if(e===i.oy.SHOWALL)return{...r,runsHiddenMode:i.oy.SHOWALL,runsHidden:[]};if(e===i.oy.HIDEALL)return{...r,runsHiddenMode:i.oy.HIDEALL,runsHidden:[]};if(e===i.oy.FIRST_10_RUNS)return{...r,runsHiddenMode:i.oy.FIRST_10_RUNS,runsHidden:[]};if(e===i.oy.FIRST_20_RUNS)return{...r,runsHiddenMode:i.oy.FIRST_20_RUNS,runsHidden:[]};if(e===i.oy.HIDE_FINISHED_RUNS)return{...r,runsHiddenMode:i.oy.HIDE_FINISHED_RUNS,runsHidden:[]};if(t){var o;const e=a.current.filter((({hidden:e})=>e)).map((({groupParentInfo:e,rowUuid:n,runUuid:r})=>e?n:r)),s=null===(o=a.current.find((({rowUuid:e,groupParentInfo:n})=>e===t&&n)))||void 0===o?void 0:o.groupParentInfo;if(s&&(0,l.Bh)()&&!1===n){let n=[];return n=s.allRunsHidden?e.filter((e=>!s.runUuids.includes(e))):e.concat(s.runUuids.filter((n=>!e.includes(n)))),{...r,runsHiddenMode:i.oy.CUSTOM,runsHidden:n}}const d=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return{...r,runsHiddenMode:i.oy.CUSTOM,runsHidden:d}}return r}))}),[r,n]);return(0,l.Rn)()?s:d}},30167:function(e,n,r){r.d(n,{V:function(){return d}});var t=r(68248),o=(r(46709),r(27757)),i=r(74060),l=r(91701),a=r(73408);var s={name:"4fhn5u",styles:"white-space:pre-wrap;overflow-y:auto;flex:1"};const d=({content:e,copyText:n,headerText:r,empty:d,onClose:c})=>{const{theme:u}=(0,o.u)();return(0,a.Y)("div",{css:(0,t.AH)({width:300,padding:u.spacing.sm,paddingRight:0,borderLeft:`1px solid ${u.colors.borderDecorative}`,overflow:"hidden",display:"flex",flexDirection:"column",height:"100%"},""),"data-testid":"preview-sidebar-content",children:e?(0,a.FD)(a.FK,{children:[(0,a.FD)("div",{css:(0,t.AH)({display:"grid",gridTemplateColumns:"1fr auto auto",rowGap:u.spacing.sm,alignItems:"flex-start",flex:"0 0 auto"},""),children:[r&&(0,a.Y)(o.T.Title,{level:4,css:(0,t.AH)({overflowX:"hidden",overflowY:"auto",marginTop:u.spacing.sm,marginRight:u.spacing.xs,maxHeight:200},""),children:r}),n&&(0,a.Y)(l.i,{copyText:n,showLabel:!1,icon:(0,a.Y)(i.CopyIcon,{})}),c&&(0,a.Y)(o.B,{componentId:"codegen_mlflow_app_src_common_components_previewsidebar.tsx_67",type:"primary",icon:(0,a.Y)(o.C,{}),onClick:c})]}),(0,a.Y)("div",{css:s,children:e})]}):(0,a.Y)("div",{css:(0,t.AH)({marginTop:u.spacing.md},""),children:d})})}},31153:function(e,n,r){r.d(n,{F:function(){return c}});var t=r(68248),o=r(27757),i=r(74060),l=r(66916),a=r(73408);const s=()=>{const{theme:e}=(0,o.u)();return(0,a.Y)(i.XCircleIcon,{css:(0,t.AH)({color:e.colors.textValidationDanger},"")})},d=()=>{const{theme:e}=(0,o.u)();return(0,a.Y)(i.CheckCircleIcon,{css:(0,t.AH)({color:e.colors.textValidationSuccess},"")})},c=({status:e})=>{switch(e){case"FAILED":case"KILLED":return(0,a.Y)(s,{});case"FINISHED":return(0,a.Y)(d,{});case"SCHEDULED":case"RUNNING":return(0,a.Y)(l.C,{});default:return null}}},42762:function(e,n,r){r.d(n,{m:function(){return l}});var t=r(74060),o=r(28126),i=r(73408);const l=({sourceType:e,className:n})=>e===o.Y1.NOTEBOOK?(0,i.Y)(t.NotebookIcon,{className:n}):e===o.Y1.LOCAL?(0,i.Y)(t.FileCodeIcon,{className:n}):e===o.Y1.PROJECT?(0,i.Y)(t.FolderBranchIcon,{className:n}):e===o.Y1.JOB?(0,i.Y)(t.WorkflowsIcon,{className:n}):null},43766:function(e,n,r){r.d(n,{h:function(){return s}});var t,o,i=r(46709);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},l.apply(null,arguments)}function a({title:e,titleId:n,...r},a){return i.createElement("svg",l({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":n},r),e?i.createElement("title",{id:n},e):null,t||(t=i.createElement("path",{d:"M8 3C3.45 3 1.4375 6.33333 1 8C1.4375 9.66667 3.45 13 8 13C12.55 13 14.5625 9.66667 15 8C14.5625 6.33333 12.55 3 8 3Z",fill:"currentColor",stroke:"currentColor"})),o||(o=i.createElement("circle",{cx:8,cy:8,r:2.25,fill:"currentColor",stroke:"white",strokeWidth:1.5})))}const s=i.forwardRef(a);r.p},46441:function(e,n,r){r.d(n,{G:function(){return o}});var t=r(44105);const o=()=>({searchFilter:"",orderByKey:t.XM,orderByAsc:t.z$,startTime:t.xx,lifecycleFilter:t.ae,datasetsFilter:[],modelVersionFilter:t.eR})},54741:function(e,n,r){r.d(n,{L:function(){return i}});var t=r(34794);const o=t.J1`
  query MlflowGetExperimentQuery($input: MlflowGetExperimentInput!) @component(name: "MLflow.ExperimentRunTracking") {
    mlflowGetExperiment(input: $input) {
      apiError {
        code
        message
      }
      experiment {
        artifactLocation
        creationTime
        experimentId
        lastUpdateTime
        lifecycleStage
        name
        tags {
          key
          value
        }
      }
    }
  }
`,i=({experimentId:e,options:n={}})=>{var r;const{data:i,loading:l,error:a,refetch:s}=(0,t.IT)(o,{variables:{input:{experimentId:e}},skip:!e,...n});return{loading:l,data:null===i||void 0===i||null===(r=i.mlflowGetExperiment)||void 0===r?void 0:r.experiment,refetch:s,apolloError:a,apiError:(()=>{var e;return null===i||void 0===i||null===(e=i.mlflowGetExperiment)||void 0===e?void 0:e.apiError})()}}},57670:function(e,n,r){r.d(n,{p:function(){return a}});var t=r(27757),o=r(46709),i=r(73408);const l=o.lazy((()=>Promise.all([r.e(1575),r.e(5964)]).then(r.bind(r,95964)))),a=e=>(0,i.Y)(o.Suspense,{fallback:(0,i.Y)("div",{css:e=>({display:"flex",justifyContent:"center",margin:e.spacing.md}),children:(0,i.Y)(t.S,{})}),children:(0,i.Y)(l,{...e})})},63908:function(e,n,r){r.d(n,{Qr:function(){return s},U1:function(){return h},Xb:function(){return g},Y7:function(){return i},fx:function(){return l},ib:function(){return f},yv:function(){return d},z7:function(){return m}});var t=r(76118);const o=()=>r.e(9547).then(r.t.bind(r,29547,23)),i=(e,n)=>{const r=(0,t.truncate)(e,{length:n});return(0,t.takeWhile)(r,(e=>"\n"!==e)).join("")},l=(e,n)=>{if(e.length>n){const r=Math.floor((n-3)/2),t=n-3-r;return e.substring(0,r)+"..."+e.substring(e.length-t,e.length)}return e},a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=e=>{let n="",r=0;const t=c(e);for(;r<t.length;){const e=t.charCodeAt(r++),o=t.charCodeAt(r++),i=t.charCodeAt(r++),l=e>>2,s=(3&e)<<4|o>>4;let d=(15&o)<<2|i>>6,c=63&i;isNaN(o)?(c=64,d=c):isNaN(i)&&(c=64),n=n+a.charAt(l)+a.charAt(s)+a.charAt(d)+a.charAt(c)}return n},d=e=>{let n="",r=0;const t=(null===e||void 0===e?void 0:e.replace(/[^A-Za-z0-9+/=]/g,""))||"";for(;r<t.length;){const e=a.indexOf(t.charAt(r++)),o=a.indexOf(t.charAt(r++)),i=a.indexOf(t.charAt(r++)),l=a.indexOf(t.charAt(r++)),s=e<<2|o>>4,d=(15&o)<<4|i>>2,c=(3&i)<<6|l;n+=String.fromCharCode(s),64!==i&&(n+=String.fromCharCode(d)),64!==l&&(n+=String.fromCharCode(c))}return u(n)},c=(e="")=>{const n=e.replace(/\r\n/g,"\n");let r="";for(let t=0;t<n.length;t++){const e=n.charCodeAt(t);r+=e<128?String.fromCharCode(e):e>127&&e<2048?String.fromCharCode(e>>6|192)+String.fromCharCode(63&e|128):String.fromCharCode(e>>12|224)+String.fromCharCode(e>>6&63|128)+String.fromCharCode(63&e|128)}return r},u=(e="")=>{let n="",r=0;for(;r<e.length;){const t=e.charCodeAt(r);if(t<128)n+=String.fromCharCode(t),r++;else if(t>191&&t<224){const o=e.charCodeAt(r+1);n+=String.fromCharCode((31&t)<<6|63&o),r+=2}else{const o=e.charCodeAt(r+1),i=e.charCodeAt(r+2);n+=String.fromCharCode((15&t)<<12|(63&o)<<6|63&i),r+=3}}return n},g=e=>crypto.subtle.digest("SHA-256",(new TextEncoder).encode(e)).then((e=>Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join(""))),p="deflate;",m=async e=>{const n=(await o()).deflate(e);if("undefined"!==typeof Buffer){const e=Buffer.from(n).toString("base64");return`${p}${e}`}const r=Array.from(n,(e=>String.fromCodePoint(e))).join("");return`${p}${btoa(r)}`},h=async e=>{const n=await o();if(!e.startsWith(p))throw new Error("Invalid compressed text, payload header invalid");const r=e.slice(8);if("undefined"!==typeof Buffer){const e=Buffer.from(r,"base64");return n.inflate(e,{to:"string"})}const t=atob(r);return n.inflate(Uint8Array.from(t,(e=>{var n;return null!==(n=e.codePointAt(0))&&void 0!==n?n:0})),{to:"string"})},f=e=>e.startsWith(p)},71625:function(e,n,r){r.d(n,{t:function(){return c}});var t=r(68248),o=r(46709),i=r(16389),l=r(27757),a=r(42762),s=r(73408);var d={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"};const c=o.memo((({value:e})=>{var n;const{theme:r}=(0,l.u)();if(!e)return(0,s.Y)(s.FK,{children:"-"});const o=(null===(n=e[i.A.sourceTypeTag])||void 0===n?void 0:n.value)||"",c=i.A.renderSource(e||{},void 0,void 0);return c?(0,s.FD)("div",{css:(0,t.AH)({display:"flex",gap:r.spacing.xs,alignItems:"center"},""),children:[(0,s.Y)(a.m,{sourceType:o,css:(0,t.AH)({color:r.colors.textSecondary},"")}),(0,s.Y)("span",{css:d,children:c})]}):(0,s.Y)(s.FK,{children:"-"})}))},88625:function(e,n,r){r.d(n,{P:function(){return En},T:function(){return In}});var t=r(76221),o=r.n(t),i=r(46709),l=r(57670),a=r(16389),s=r(63591),d=r(27757),c=r(76118),u=r(44105),g=r(68248),p=r(74060),m=r(3248),h=r(73408);var f={name:"12si88q",styles:"height:100%;width:100%;display:flex;align-items:center;justify-content:space-between"};const v=({enableSorting:e,canonicalSortKey:n,displayName:r,context:t})=>{const{orderByKey:o,orderByAsc:i}=t||{},l=(0,m.Px)(),a=n,{theme:s}=(0,d.u)();return(0,h.Y)("div",{role:"columnheader",css:f,children:(0,h.FD)("div",{css:(0,g.AH)({height:"100%",width:"100%",display:"flex",alignItems:"center",overflow:"hidden",paddingLeft:s.spacing.xs+s.spacing.sm,paddingRight:s.spacing.xs+s.spacing.sm,gap:s.spacing.sm,svg:{color:s.colors.textSecondary},"&:hover":{color:e?s.colors.actionTertiaryTextHover:"unset",svg:{color:s.colors.actionTertiaryTextHover}}},""),className:a===o?"is-ordered-by":"",onClick:e?()=>{let e=!i;a!==o&&(e=!1),l({orderByKey:a,orderByAsc:e})}:void 0,children:[(0,h.Y)("span",{"data-testid":`sort-header-${r}`,children:r}),e&&a===o?i?(0,h.Y)(p.SortAscendingIcon,{}):(0,h.Y)(p.SortDescendingIcon,{}):null]})})};var y=r(31153),C=r(7655);const R=i.memo((({value:e})=>{const{startTime:n,referenceTime:r,runStatus:t}=e||{},o=(0,C.A)();return n?(0,h.FD)("span",{css:x.cellWrapper,title:a.A.formatTimestamp(n,o),children:[(0,h.Y)(y.F,{status:t}),a.A.timeSinceStr(n,r)]}):(0,h.Y)(h.FK,{children:"-"})})),x={cellWrapper:e=>({display:"flex",alignItems:"center",gap:e.spacing.sm})},b=({text:e,maxSize:n,className:r,allowShowMore:t=!1,dataTestId:o})=>{if(e.length<=n)return(0,h.Y)("span",{className:r,"data-testid":o,children:e});const l=`${e.substr(0,n)}...`,[a,s]=(0,i.useState)(!1);return(0,h.FD)("span",{className:r,"data-testid":o,children:[a?e:l,t&&(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_common_components_trimmedtext.tsx_30",type:"link",onClick:()=>s(!a),size:"small",css:E.expandButton,"data-testid":"trimmed-text-button",children:a?"collapse":"expand"})]})},E={expandButton:{display:"inline-block"}},M=i.memo((({value:e})=>{const n=a.A.getRunDescriptionFromTags(e)||"-";return(0,h.Y)(h.FK,{children:(0,h.Y)(p.LegacyTooltip,{title:n,children:(0,h.Y)("span",{children:(0,h.Y)(b,{text:n,maxSize:50})})})})}));var I=r(91105),w=r(60284);const _=i.memo((({data:e,value:n})=>e.experimentId?(0,h.Y)(I.N_,{to:w.Ay.getExperimentPageRoute(e.experimentId),title:n.name,children:n.basename}):null));var S=r(27206),T=r(10165),k=r(40724),A=r(20980),N=r(96980),D=r(31655);var L={name:"pnv6it",styles:"color:inherit;text-decoration:underline"},Y={name:"1989ovb",styles:"vertical-align:middle"},O={name:"1p2zdak",styles:"margin-right:0;vertical-align:middle"},F={name:"osm46o",styles:"width:20px;display:flex;align-items:center;justify-content:flex-start;flex-shrink:0"},P={name:"167129t",styles:"text-overflow:ellipsis;overflow:hidden;cursor:pointer"};const H=({model:{isUc:e,registeredModelName:n,registeredModelVersion:r,flavors:t,artifactPath:o,originalLoggedModel:i}={},experimentId:l,runUuid:a})=>{const{theme:s}=(0,d.u)();return(0,h.FD)("div",{css:(0,g.AH)({display:"flex",alignItems:"center",gap:s.spacing.xs,overflow:"hidden"},""),children:[(0,h.Y)("div",{css:F,children:n?(0,h.Y)(T.h,{css:(0,g.AH)({color:s.colors.actionPrimaryBackgroundDefault},"")}):(0,h.Y)(p.ModelsIcon,{css:(0,g.AH)({color:s.colors.actionPrimaryBackgroundDefault},"")})}),(0,h.Y)(I.N_,{to:n&&r?S.fM.getModelVersionPageRoute(n,r):w.Ay.getRunPageRoute(l,a,o),target:"_blank",css:P,children:(()=>{let e=`${n} v${r}`;if(n&&r&&i&&(0,D.UJ)()){var o,l;const n=null===(o=i.info)||void 0===o?void 0:o.experiment_id,r=null===(l=i.info)||void 0===l?void 0:l.model_id;var a;if(n&&r)e=(0,h.Y)(k.A,{id:"BY1k4W",defaultMessage:"Original logged model: {originalModelLink}",values:{originalModelLink:(0,h.Y)(I.N_,{to:w.Ay.getExperimentLoggedModelDetailsPage(n,r),css:L,children:null===(a=i.info)||void 0===a?void 0:a.name})}})}if(n)return(0,h.FD)(p.LegacyTooltip,{title:e,placement:"topLeft",children:[(0,h.Y)("span",{css:Y,children:n})," ",(0,h.FD)(p.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_modelscellrenderer.tsx_49",css:O,children:["v",r]})]});return(null===t||void 0===t?void 0:t[0])||(0,h.Y)(k.A,{id:"giZdtW",defaultMessage:"Model"})})()})]})};var B={name:"osm46o",styles:"width:20px;display:flex;align-items:center;justify-content:flex-start;flex-shrink:0"},U={name:"167129t",styles:"text-overflow:ellipsis;overflow:hidden;cursor:pointer"};const G=({model:e})=>{var n,r;const{theme:t}=(0,d.u)();return null!==(n=e.info)&&void 0!==n&&n.model_id&&null!==(r=e.info)&&void 0!==r&&r.experiment_id?(0,h.FD)("div",{css:(0,g.AH)({display:"flex",alignItems:"center",gap:t.spacing.xs,overflow:"hidden"},""),children:[(0,h.Y)("div",{css:B,children:(0,h.Y)(p.ModelsIcon,{css:(0,g.AH)({color:t.colors.actionPrimaryBackgroundDefault},"")})}),(0,h.Y)(I.N_,{to:w.Ay.getExperimentLoggedModelDetailsPage(e.info.experiment_id,e.info.model_id),target:"_blank",css:U,children:e.info.name})]}):null};var V={name:"1xsgnar",styles:"width:100%;&>div{max-width:100%;display:flex;}"};const z=i.memo((e=>{const{registeredModels:n=[],loggedModels:r=[],loggedModelsV3:t,experimentId:o,runUuid:l}=e.value||{},s=a.A.mergeLoggedAndRegisteredModels(r,n),{modelVersions:d}=(0,A.b)({loggedModels:t||[]}),u=(0,i.useMemo)((()=>{if(!(0,D.ht)())return{};const e={};return d.forEach((n=>{var r,t;const o=null===(r=n.sourceLoggedModel)||void 0===r||null===(t=r.info)||void 0===t?void 0:t.model_id;if(o){var i,l,a,s,d;const r=e[o]||[],t=null!==(i=n.displayedName)&&void 0!==i?i:void 0;r.push({registeredModelName:t,registeredModelVersion:null!==(l=n.version)&&void 0!==l?l:void 0,isUc:(0,N.f)(null!==t&&void 0!==t?t:""),artifactPath:null!==(a=null===(s=n.sourceLoggedModel)||void 0===s||null===(d=s.info)||void 0===d?void 0:d.artifact_uri)&&void 0!==a?a:"",flavors:[],originalLoggedModel:n.sourceLoggedModel}),e[o]=r}})),e}),[d]),g=(0,i.useMemo)((()=>{const e=[...s,...Array.from((0,c.values)(u)).flat()];return(0,c.uniqBy)(e,(e=>{var n;return JSON.stringify(e.registeredModelName&&e.registeredModelVersion?[e.registeredModelName,null===(n=e.registeredModelVersion)||void 0===n?void 0:n.toString()]:[e.artifactPath])}))}),[s,u]),m=!(0,c.isEmpty)(g)||!(0,c.isEmpty)(t);return e.value&&m?(0,h.Y)("div",{css:V,children:(0,h.FD)(p.Overflow,{children:[g.map(((e,n)=>(0,h.Y)(H,{model:e,experimentId:o,runUuid:l},e.artifactPath||n))),null===t||void 0===t?void 0:t.map(((e,n)=>{var r,t,o;const i=null===(r=e.info)||void 0===r?void 0:r.model_id,l=i?u[i]:[];return(0,c.isEmpty)(l)?(0,h.Y)(G,{model:e},null!==(t=null===(o=e.info)||void 0===o?void 0:o.model_id)&&void 0!==t?t:n):null}))]})}):(0,h.Y)(h.FK,{children:"-"})})),K=i.memo((()=>{const{theme:e}=(0,d.u)(),n=(0,D.UJ)()&&(0,D.ht)();return(0,h.Y)("div",{role:"columnheader",css:(0,g.AH)({height:"100%",width:"100%",display:"flex",alignItems:"center",padding:"0 12px",gap:e.spacing.xs},""),children:n?(0,h.FD)(h.FK,{children:[u.qo.MODELS,(0,h.Y)(p.InfoTooltip,{componentId:"mlflow.experiment_view_runs_table.column_header.models.tooltip",content:(0,h.Y)(k.A,{id:"vVSm7w",defaultMessage:"This column contains all models logged or evaluated by the run. Click into an individual run to see more detailed information about all models associated with it."})})]}):(0,h.Y)(p.LegacyTooltip,{title:(0,h.Y)(k.A,{id:"c0slEY",defaultMessage:"Click into an individual run to see all models associated with it"}),children:u.qo.MODELS})})}));var q=r(71625);const W=i.memo((({value:e})=>{if(!e)return(0,h.Y)(h.FK,{children:"-"});const{version:n,name:r,type:t}=e;return a.A.renderSourceVersion(n,r,t)||(0,h.Y)(h.FK,{children:"-"})}));var $=r(90142),j=r(77680),Z=r(1475),Q=r(52572),J=r(18585),X=r(34931),ee=r(43766);const ne=()=>(0,h.Y)(d.I,{component:ee.h}),re={mouseEnterDelay:0,mouseLeaveDelay:0},te=({runUuid:e,className:n,rowHidden:r,buttonHidden:t,disabled:o,onClick:i,label:l})=>{const{theme:a}=(0,d.u)();return t?(0,h.Y)("div",{className:n,css:[oe.button(a),""]}):o?(0,h.Y)(p.VisibleOffIcon,{className:n,css:[oe.button(a),{opacity:.25,color:a.colors.grey400},""]}):(0,h.Y)(p.LegacyTooltip,{dangerouslySetAntdProps:re,placement:"right",title:l,children:(0,h.FD)("label",{className:n,css:oe.button(a),children:[(0,h.Y)("span",{css:d.N,children:l}),(0,h.Y)("input",{type:"checkbox",className:"is-visibility-toggle-checkbox",checked:!r,onChange:()=>{if(e){const n=!r;i(X.oy.CUSTOM,e,n)}}}),r?(0,h.Y)(p.VisibleOffIcon,{}):(0,h.Y)(ne,{})]})})},oe={button:e=>({width:e.general.iconFontSize,color:e.colors.grey400,".ag-row:hover &":{color:e.colors.grey500}})},ie=i.createContext({runsHiddenMode:X.oy.FIRST_10_RUNS,useGroupedValuesInCharts:!0,usingCustomVisibility:!1,allRunsHidden:!1}),le=({children:e,runsHiddenMode:n,useGroupedValuesInCharts:r,usingCustomVisibility:t,allRunsHidden:o})=>{const l=(0,i.useMemo)((()=>({runsHiddenMode:n,useGroupedValuesInCharts:null===r||void 0===r||r,usingCustomVisibility:null!==t&&void 0!==t&&t,allRunsHidden:null!==o&&void 0!==o&&o})),[n,r,t,o]);return(0,h.Y)(ie.Provider,{value:l,children:e})},ae=()=>i.useContext(ie),se={visibility:{groups:(0,j.YK)({unhide:{id:"8Gz0OE",defaultMessage:"Unhide group"},hide:{id:"TfuAgs",defaultMessage:"Hide group"}}),runs:(0,j.YK)({unhide:{id:"xmpvlI",defaultMessage:"Unhide run"},hide:{id:"qTjYVU",defaultMessage:"Hide run"}})},pinning:{groups:(0,j.YK)({unpin:{id:"jkeYf8",defaultMessage:"Unpin group"},pin:{id:"8hpS0b",defaultMessage:"Pin group"}}),runs:(0,j.YK)({unpin:{id:"ugm2f6",defaultMessage:"Unpin run"},pin:{id:"fjiojF",defaultMessage:"Pin run"}})}},de={mouseEnterDelay:0,mouseLeaveDelay:0},ce=i.memo((e=>{const n=(0,Q.e)(),{theme:r}=(0,d.u)(),{useGroupedValuesInCharts:t}=ae(),{groupParentInfo:o,runDateAndNestInfo:l,visibilityControl:a}=e.data,{belongsToGroup:s}=l||{},c=Boolean(o),u=(0,D.Bh)()&&a===Z.VB.Disabled,{pinned:g,hidden:m}=e.value,{runUuid:f,rowUuid:v}=e.data,y=o?v:f,C=(0,D.Bh)()&&!1===t&&o?Boolean(o.allRunsHidden):m,R=c?C?se.visibility.groups.unhide:se.visibility.groups.hide:C?se.visibility.runs.unhide:se.visibility.runs.hide,x=c?g?se.pinning.groups.unpin:se.pinning.groups.pin:g?se.pinning.runs.unpin:se.pinning.runs.pin,b=(0,i.useMemo)((()=>(0,D.Bh)()?a===Z.VB.Hidden:!(o&&!(0,J.mC)(o)||Boolean(f)&&!s)),[o,s,f,a]);return(0,h.FD)("div",{css:ge.actionsContainer,children:[(0,h.Y)(te,{rowHidden:C,buttonHidden:b,disabled:u,label:(0,h.Y)(k.A,{...R}),onClick:e.onToggleVisibility,runUuid:y,css:[ge.actionCheckbox(r),ge.showOnlyInCompareMode,""]}),(e.data.pinnable&&f||o)&&(0,h.Y)(p.LegacyTooltip,{dangerouslySetAntdProps:de,placement:"right",title:(0,h.Y)(k.A,{...x}),children:(0,h.FD)("label",{css:ge.actionCheckbox(r),className:"is-pin-toggle","data-testid":"column-pin-toggle",children:[(0,h.Y)("span",{css:d.N,children:(0,h.Y)(k.A,{...x})}),(0,h.Y)("input",{type:"checkbox",checked:g,onChange:()=>{const r=o?e.data.rowUuid:f;n((e=>r?{...e,runsPinned:e.runsPinned.includes(r)?e.runsPinned.filter((e=>e!==r)):[...e.runsPinned,r]}:e))}}),g?(0,h.Y)(p.PinFillIcon,{}):(0,h.Y)(p.PinIcon,{})]})},Math.random())]})}),((e,n)=>{var r,t;return e.value.hidden===n.value.hidden&&e.value.pinned===n.value.pinned&&e.data.visibilityControl===n.data.visibilityControl&&(null===(r=e.data.groupParentInfo)||void 0===r?void 0:r.allRunsHidden)===(null===(t=n.data.groupParentInfo)||void 0===t?void 0:t.allRunsHidden)})),ue=({event:e})=>!!("Tab"===e.key&&e.target instanceof HTMLElement&&(e.target.classList.contains("ag-cell")||e.target.classList.contains("is-visibility-toggle-checkbox"))),ge={actionsContainer:{display:"flex",gap:18},showOnlyInCompareMode:{display:"none",".is-table-comparing-runs-mode &":{display:"flex"}},actionCheckbox:e=>({input:{width:0,appearance:"none"},cursor:"pointer",display:"flex",svg:{width:e.general.iconFontSize,height:e.general.iconFontSize,cursor:"pointer"},"&.is-pin-toggle svg":{color:"transparent",".ag-row:hover &":{color:e.colors.grey500}},"& input:checked + span svg":{color:e.colors.grey500},"& input:focus-visible + span svg":{color:e.colors.grey500}})},pe=()=>(0,h.Y)(d.I,{component:ee.h}),me=i.memo((({onToggleVisibility:e})=>{const{theme:n}=(0,d.u)(),r=(0,C.A)(),{runsHiddenMode:t,usingCustomVisibility:o,allRunsHidden:i}=ae();return(0,h.FD)(p.DropdownMenu.Root,{modal:!1,children:[(0,h.Y)(p.DropdownMenu.Trigger,{asChild:!0,children:(0,h.Y)("button",{css:[fe.actionButton(n),fe.showOnlyInCompareMode,""],"data-testid":"experiment-view-runs-visibility-column-header","aria-label":r.formatMessage({id:"9HXup+",defaultMessage:"Toggle visibility of runs"}),children:t===X.oy.HIDEALL||i?(0,h.Y)(p.VisibleOffIcon,{}):(0,h.Y)(pe,{})})}),(0,h.Y)(p.DropdownMenu.Content,{children:(0,h.FD)(p.DropdownMenu.RadioGroup,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_rowactionsheadercellrenderer.tsx_52",value:t,onValueChange:n=>e(n),children:[(0,h.FD)(p.DropdownMenu.RadioItem,{value:X.oy.FIRST_10_RUNS,children:[(0,h.Y)(p.DropdownMenu.ItemIndicator,{children:o?(0,h.Y)(p.DashIcon,{}):null}),(0,h.Y)(k.A,{id:"w39cZ4",defaultMessage:"Show first 10"})]}),(0,h.FD)(p.DropdownMenu.RadioItem,{value:X.oy.FIRST_20_RUNS,children:[(0,h.Y)(p.DropdownMenu.ItemIndicator,{children:o?(0,h.Y)(p.DashIcon,{}):null}),(0,h.Y)(k.A,{id:"ONIiUE",defaultMessage:"Show first 20"})]}),(0,h.FD)(p.DropdownMenu.RadioItem,{value:X.oy.SHOWALL,children:[(0,h.Y)(p.DropdownMenu.ItemIndicator,{children:o?(0,h.Y)(p.DashIcon,{}):null}),(0,h.Y)(k.A,{id:"4yjF8O",defaultMessage:"Show all runs"})]}),(0,h.FD)(p.DropdownMenu.RadioItem,{value:X.oy.HIDEALL,children:[(0,h.Y)(p.DropdownMenu.ItemIndicator,{children:o?(0,h.Y)(p.DashIcon,{}):null}),(0,h.Y)(k.A,{id:"Qi6Etm",defaultMessage:"Hide all runs"})]}),(0,h.FD)(p.DropdownMenu.RadioItem,{value:X.oy.HIDE_FINISHED_RUNS,children:[(0,h.Y)(p.DropdownMenu.ItemIndicator,{children:o?(0,h.Y)(p.DashIcon,{}):null}),(0,h.Y)(k.A,{id:"ega/Za",defaultMessage:"Hide finished runs"})]})]})})]})})),he=i.memo((e=>{const n=(0,C.A)();return(0,i.useEffect)((()=>{var r;const t=null===(r=e.eGridHeader)||void 0===r?void 0:r.querySelector("input");t&&(t.ariaLabel=n.formatMessage({id:"Csmj/2",defaultMessage:"Select all runs"}))}),[e.eGridHeader,n]),(0,h.Y)(me,{...e})})),fe={actionButton:e=>({background:"transparent",border:"none",cursor:"pointer",padding:"8px",".ag-checkbox:not(.ag-hidden) + &":{padding:"0 1px"},svg:{width:e.general.iconFontSize,height:e.general.iconFontSize,cursor:"pointer",color:e.colors.grey500}}),showOnlyInCompareMode:{display:"none",".is-table-comparing-runs-mode &":{display:"flex"}}};var ve=r(79081),ye=r(67063),Ce=r(59930),Re=r.n(Ce),xe=r(49620);var be={name:"1gz2b5f",styles:"overflow:hidden;text-overflow:ellipsis"},Ee={name:"mlsake",styles:"margin-left:0;margin-right:0"},Me={name:"oq2rn6",styles:"svg{width:12px;height:12px;}"};const Ie=({data:e,isComparingRuns:n})=>{const r=e.groupParentInfo,t=e.hidden;Re()(r,"groupParentInfo should be defined");const{theme:o}=(0,d.u)(),l=(0,I.zy)(),{useGroupedValuesInCharts:a}=ae(),s=(0,xe.LE)(),c=(0,xe.MQ)(),u=(0,Q.e)(),f=(0,i.useCallback)(((e,n)=>{u((r=>{const{groupsExpanded:t}=r;return{...r,groupsExpanded:{...t,[e]:n}}}))}),[u]),v=(0,J.QD)(r),y=(0,i.useMemo)((()=>(0,D.Bh)()?a&&!(0,J.mC)(r):!(0,J.mC)(r)),[r,a]),C=(0,i.useMemo)((()=>{const e=(0,J.dx)(r),n=new URLSearchParams(l.search);n.set("searchFilter",e),n.set(m.ts,"true");return{...l,search:n.toString()}}),[r,l]);return(0,h.FD)("div",{css:(0,g.AH)({display:"flex",gap:o.spacing.sm,alignItems:"center"},""),children:[r.expanderOpen?(0,h.Y)(p.ChevronDownIcon,{role:"button",onClick:()=>{f(r.groupId,!1)}}):(0,h.Y)(d.o,{role:"button",onClick:()=>{f(r.groupId,!0)}}),y&&(0,h.Y)(ye.E,{color:s(r.groupId),hidden:n&&t,onChangeColor:e=>{c({groupUuid:r.groupId,colorValue:e})}}),(0,h.FD)("div",{css:(0,g.AH)({display:"inline-flex",gap:o.spacing.sm,alignItems:"center",overflow:"hidden",textOverflow:"ellipsis"},""),children:[(0,J.mC)(r)?(0,h.Y)(k.A,{id:"PKYh23",defaultMessage:"Additional runs"}):(0,h.Y)("span",{title:v,css:be,children:(0,h.Y)(k.A,{id:"jq95vC",defaultMessage:"Group: {groupName}",values:{groupName:v}})}),(0,h.Y)(p.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_groupparentcellrenderer.tsx_109",css:Ee,children:r.runUuids.length}),(0,h.Y)(ve.T,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_groupparentcellrenderer.tsx_136",content:(0,h.Y)(k.A,{id:"+w9a+1",defaultMessage:"Open runs in this group in the new tab"}),children:(0,h.Y)(I.N_,{to:C,target:"_blank",css:(0,g.AH)({marginLeft:-o.spacing.xs,display:"none",".ag-row-hover &":{display:"inline-flex"}},""),children:(0,h.Y)(d.B,{type:"link",componentId:"mlflow.experiment_page.grouped_runs.open_runs_in_new_tab",size:"small",icon:(0,h.Y)(d.au,{css:Me})})})})]})]})};var we={name:"xahbfd",styles:"width:12px;height:12px;flex-shrink:0"};const _e=i.memo((e=>{const{theme:n}=(0,d.u)(),r=(0,xe.MQ)(),t=(0,xe.LE)(),{useGroupedValuesInCharts:o}=ae();if(e.data.groupParentInfo)return(0,h.Y)(Ie,{...e});const{onExpand:i,data:l}=e,{runName:a,experimentId:s,runUuid:c,runDateAndNestInfo:u,hidden:g}=l;Re()(s,"experimentId should be set for run rows"),Re()(c,"runUuid should be set for run rows"),Re()(u,"runDateAndNestInfo should be set for run rows");const{hasExpander:m,expanderOpen:f,childrenIds:v,level:y,belongsToGroup:C}=u,R=!isNaN(y)&&m,x=(0,D.Bh)()?C&&o:C;return(0,h.FD)("div",{css:Se.cellWrapper,children:[(0,h.Y)("div",{css:Se.expanderWrapper,children:(0,h.Y)("div",{css:Se.nestLevel(n),style:{width:(y+1)*n.spacing.lg},children:R&&(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_runnamecellrenderer.tsx_46",css:Se.expanderButton,size:"small",onClick:()=>{i(c,v)},type:"link",icon:f?(0,h.Y)(p.MinusSquareIcon,{}):(0,h.Y)(p.PlusSquareIcon,{})},"Expander-"+c)})}),(0,h.FD)("div",{css:Se.runLink,children:[x?(0,h.Y)("div",{css:we}):(0,h.Y)(ye.E,{color:t(c),hidden:e.isComparingRuns&&g,"data-testid":"experiment-view-table-run-color",onChangeColor:e=>r({runUuid:c,colorValue:e})}),(0,h.Y)(I.N_,{to:w.Ay.getRunPageRoute(s,c),css:Se.runLink,tabIndex:0,children:(0,h.Y)("span",{css:Se.runName,children:a})})]})]})})),Se={link:e=>({display:"inline-block",minWidth:e.typography.fontSizeBase,minHeight:e.typography.fontSizeBase}),cellWrapper:{display:"flex"},expanderButton:{svg:{width:12,height:12}},runLink:{overflow:"hidden",display:"flex",gap:8,alignItems:"center","&:focus-visible":{textDecoration:"underline"}},runName:{overflow:"hidden",textOverflow:"ellipsis"},expanderWrapper:{display:"none",".ag-grid-expanders-visible &":{display:"block"}},nestLevel:e=>({display:"flex",justifyContent:"flex-end",height:e.spacing.lg})};var Te={name:"gikiyg",styles:"display:flex;justify-content:center;align-items:center;height:32px"};const ke=i.memo((({loadMoreRunsFunc:e})=>(0,h.Y)("div",{css:Te,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_loadmorerowrenderer.tsx_20",type:"primary",onClick:e,size:"small",children:(0,h.Y)(k.A,{id:"9CqEWy",defaultMessage:"Load more"})})})));var Ae={name:"rnnx2x",styles:"font-size:12px"},Ne={name:"rnnx2x",styles:"font-size:12px"};const De=({datasetWithTags:e,onDatasetSelected:n,appendComma:r=!1,inPopover:t=!1})=>{const{theme:o}=(0,d.u)(),{dataset:i,tags:l}=e;if(!i)return null;const a=null===l||void 0===l?void 0:l.find((({key:e})=>e===u.AS));return(0,h.FD)("div",{css:(0,g.AH)({display:"flex",flexShrink:0,alignItems:"center",overflow:"hidden",marginRight:o.spacing.xs},""),children:[(0,h.Y)(p.TableIcon,{css:(0,g.AH)({color:o.colors.textSecondary,marginRight:o.spacing.xs},"")})," ",(0,h.Y)("span",{css:(0,g.AH)({minWidth:32,marginRight:o.spacing.xs,flexShrink:0},""),title:`${i.name} (${i.digest})`,children:t?(0,h.Y)(d.aw.Close,{asChild:!0,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_49",type:"link",onClick:n,tabIndex:0,children:(0,h.FD)("span",{css:Ae,children:[i.name," (",i.digest,")"]})})}):(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_56",type:"link",onClick:n,"data-testid":"open-dataset-drawer",tabIndex:0,children:(0,h.FD)("span",{children:[i.name," (",i.digest,")"]})})}),a&&(0,h.Y)(p.Tag,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_75",css:(0,g.AH)({textTransform:"capitalize",marginRight:o.spacing.xs},""),children:(0,h.Y)("span",{css:Ne,children:a.value})}),r&&(0,h.Y)(h.FK,{children:","})]})};var Le={name:"zjik7",styles:"display:flex"},Ye={name:"eq7f8j",styles:"display:flex;align-items:flex-end"},Oe={name:"h1n7cn",styles:"max-height:400px;overflow:auto"};const Fe=i.memo((({value:e,data:n,onDatasetSelected:r,expandRows:t})=>{const o=(0,i.useRef)(null),[l,a]=(0,i.useState)(0),[s,u]=(0,i.useState)(!1),p=(0,i.useMemo)((()=>(e||[]).slice(0,3)),[e]),{theme:m}=(0,d.u)(),f=(e||[]).length;(0,i.useEffect)((()=>{if(!o.current)return()=>{};const e=(0,c.throttle)((([e])=>{if(t){const n=e.contentRect.height;let r=0,t=0;for(let o=0;o<e.target.children.length;o++){const i=e.target.children.item(o);if(t+i.clientHeight>n)break;t+=i.clientHeight,r++}a(r),u(r<f)}else{const n=e.contentRect.width;if(0===n&&f)return a(0),void u(!0);let r=0,t=0;for(let i=0;i<e.target.children.length;i++){const o=e.target.children.item(i);if(t+o.clientWidth>=n)break;t+=o.clientWidth,r++}const o=Math.min(f,r+1);a(o),u(r<f)}}),100),n=new ResizeObserver(e);return n.observe(o.current),()=>n.disconnect()}),[t,f]);const v=f-l;if(!e||f<1)return(0,h.Y)(h.FK,{children:"-"});const y=t?p:e;return(0,h.FD)("div",{css:Le,children:[(0,h.Y)("div",{css:(0,g.AH)({overflow:"hidden",display:"flex",flexDirection:t?"column":"row"},""),ref:o,children:y.map(((e,o)=>(0,h.Y)(De,{appendComma:!t&&o<y.length-1,datasetWithTags:e,onDatasetSelected:()=>null===r||void 0===r?void 0:r(e,n)},`${e.dataset.name}-${e.dataset.digest}`)))}),(v>0||s)&&(0,h.FD)("div",{css:Ye,children:[!t&&s&&(0,h.Y)("span",{css:(0,g.AH)({paddingLeft:0,paddingRight:m.spacing.xs},""),children:"\u2026"}),v>0&&(0,h.FD)(d.aw.Root,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_184",modal:!1,children:[(0,h.Y)(d.aw.Trigger,{asChild:!0,children:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_cells_datasetscellrenderer.tsx_172",size:"small",style:{borderRadius:"8px",width:"40px"},tabIndex:0,children:(0,h.FD)(d.T.Text,{color:"secondary",children:["+",v]})})}),(0,h.Y)(d.aw.Content,{align:"start",css:Oe,children:e.slice(f-v).map((e=>(0,h.Y)("div",{css:(0,g.AH)({height:m.general.heightSm,display:"flex",alignItems:"center"},""),children:(0,h.Y)(De,{datasetWithTags:e,onDatasetSelected:()=>null===r||void 0===r?void 0:r(e,n),inPopover:!0})},`${e.dataset.name}-${e.dataset.digest}`)))})]})]})]})})),Pe=({event:e})=>"Tab"===e.key&&e.target instanceof HTMLElement&&(e.target.classList.contains("ag-cell")||e.target instanceof HTMLButtonElement),He=({value:e,data:n,valueFormatted:r})=>{var t;const{theme:o}=(0,d.u)();return null!==(t=n.groupParentInfo)&&void 0!==t&&t.aggregateFunction?(0,h.FD)(d.T.Text,{children:[null!==r&&void 0!==r?r:e," ",(0,h.FD)("span",{css:(0,g.AH)({color:o.colors.textSecondary},""),children:["(",n.groupParentInfo.aggregateFunction,")"]})]}):e};var Be=r(93846),Ue=r(86575);const Ge=({colDef:e,context:n})=>{var r;return n.orderByKey===(null===(r=e.headerComponentParams)||void 0===r?void 0:r.canonicalSortKey)},Ve=e=>e?105:73,ze=e=>`${$.iy}-${e}`,Ke=e=>`${$.Pl}-${e}`,qe=({loading:e,...n})=>(0,d.S)({loading:!1,...n}),We=({event:e})=>"Tab"===e.key&&e.target instanceof HTMLElement&&e.target.classList.contains("ag-cell"),$e={[u.T8.USER]:(0,$.GF)(u.RO.ATTRIBUTES,"User"),[u.T8.RUN_NAME]:(0,$.GF)(u.RO.ATTRIBUTES,"Run Name"),[u.T8.SOURCE]:(0,$.GF)(u.RO.ATTRIBUTES,"Source"),[u.T8.VERSION]:(0,$.GF)(u.RO.ATTRIBUTES,"Version"),[u.T8.DESCRIPTION]:(0,$.GF)(u.RO.ATTRIBUTES,"Description")},je=({data:e})=>e.rowUuid,Ze=({rowNode:e})=>e.data.isLoadMoreRow,Qe=(e=!1)=>{const n=[u.qo.USER,u.qo.SOURCE,u.qo.VERSION,u.qo.MODELS,u.qo.DATASET,u.qo.DESCRIPTION];return e&&n.push(u.qo.EXPERIMENT_NAME),n},Je=({selectedColumns:e,compareExperiments:n,onTogglePin:r,onToggleVisibility:t,onExpand:o,paramKeyList:l,metricKeyList:s,tagKeyList:g,columnApi:p,onDatasetSelected:m,isComparingRuns:h,expandRows:f,runsHiddenMode:v})=>{const{theme:y}=(0,d.u)(),C=(({paramKeyList:e,metricKeyList:n,tagKeyList:r})=>{const t=(0,i.useRef)(new Set),o=(0,i.useRef)(new Set),l=(0,i.useRef)(new Set),a=(0,i.useMemo)((()=>(e.forEach((e=>o.current.add(e))),Array.from(o.current))),[e]),s=(0,i.useMemo)((()=>(n.forEach((e=>t.current.add(e))),Array.from(t.current))),[n]),d=(0,i.useMemo)((()=>(r.forEach((e=>l.current.add(e))),Array.from(l.current))),[r]);return(0,i.useMemo)((()=>({paramKeys:a,metricKeys:s,tagKeys:d})),[s,a,d])})({metricKeyList:s,tagKeyList:g,paramKeyList:l}),R=(0,Be.Ub)(`(max-width: ${y.responsive.breakpoints.sm}px)`),x=(0,i.useMemo)((()=>{const e=[];e.push({valueGetter:({data:{pinned:e,hidden:n}})=>({pinned:e,hidden:n}),checkboxSelection:!0,headerComponent:"RowActionsHeaderCellRenderer",headerComponentParams:{onToggleVisibility:t},headerCheckboxSelection:!0,headerName:"",cellClass:"is-checkbox-cell",cellRenderer:"RowActionsCellRenderer",cellRendererParams:{onTogglePin:r,onToggleVisibility:t},pinned:R?void 0:"left",minWidth:Ve(h),width:Ve(h),maxWidth:Ve(h),resizable:!1,suppressKeyboardEvent:ue});const i=h;if(e.push({headerName:u.qo.RUN_NAME,colId:i?void 0:$e[u.T8.RUN_NAME],headerTooltip:u.T8.RUN_NAME,pinned:R?void 0:"left",sortable:!0,cellRenderer:"RunNameCellRenderer",cellRendererParams:{onExpand:o,isComparingRuns:h},equals:(e,n)=>{var r,t;return(null===e||void 0===e?void 0:e.rowUuid)===(null===n||void 0===n?void 0:n.rowUuid)&&(null===e||void 0===e||null===(r=e.groupParentInfo)||void 0===r?void 0:r.expanderOpen)===(null===n||void 0===n||null===(t=n.groupParentInfo)||void 0===t?void 0:t.expanderOpen)},headerComponentParams:{canonicalSortKey:u.T8.RUN_NAME},cellClassRules:{"is-ordered-by":Ge},initialWidth:i?void 0:190,flex:i?1:void 0,resizable:!h,suppressKeyboardEvent:We}),h)return e;e.push({headerName:u.qo.DATE,headerTooltip:u.T8.DATE,pinned:R?void 0:"left",sortable:!0,field:"runDateAndNestInfo",cellRenderer:"DateCellRenderer",cellRendererParams:{onExpand:o},equals:(e,n)=>(0,c.isEqual)(e,n),headerComponentParams:{canonicalSortKey:u.T8.DATE},cellClassRules:{"is-ordered-by":Ge},initialWidth:150}),e.push({headerName:u.qo.DATASET,colId:(0,$.GF)(u.RO.ATTRIBUTES,u.qo.DATASET),headerTooltip:u.qo.DATASET,sortable:!1,field:"datasets",cellRenderer:"DatasetsCellRenderer",cellRendererParams:{onDatasetSelected:m,expandRows:f},cellClass:"is-multiline-cell",initialWidth:300,suppressKeyboardEvent:Pe}),e.push({headerName:u.qo.DURATION,field:"duration",initialWidth:80}),n&&e.push({headerName:u.qo.EXPERIMENT_NAME,colId:(0,$.GF)(u.RO.ATTRIBUTES,u.qo.EXPERIMENT_NAME),field:"experimentName",cellRenderer:"ExperimentNameCellRenderer",equals:(e,n)=>(0,c.isEqual)(e,n),initialWidth:140,initialHide:!0,suppressKeyboardEvent:We}),e.push({headerName:u.qo.USER,colId:$e[u.T8.USER],headerTooltip:u.T8.USER,field:"user",sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.USER},cellClassRules:{"is-ordered-by":Ge},initialHide:!0}),e.push({headerName:u.qo.SOURCE,colId:$e[u.T8.SOURCE],field:"tags",cellRenderer:"SourceCellRenderer",equals:(e={},n={})=>a.A.getSourceName(e)===a.A.getSourceName(n),sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.SOURCE},cellClassRules:{"is-ordered-by":Ge},initialHide:!0,suppressKeyboardEvent:We}),e.push({headerName:u.qo.VERSION,colId:$e[u.T8.VERSION],field:"version",cellRenderer:"VersionCellRenderer",equals:(e={},n={})=>(0,c.isEqual)(e,n),sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.VERSION},cellClassRules:{"is-ordered-by":Ge},initialHide:!0}),e.push({headerComponent:"ModelsHeaderCellRenderer",colId:(0,$.GF)(u.RO.ATTRIBUTES,u.qo.MODELS),field:"models",cellRenderer:"ModelsCellRenderer",initialWidth:200,equals:(e={},n={})=>(0,c.isEqual)(e,n),initialHide:!0,suppressKeyboardEvent:We}),e.push({headerName:u.qo.DESCRIPTION,colId:$e[u.T8.DESCRIPTION],field:"tags",cellRenderer:"RunDescriptionCellRenderer",initialWidth:300,initialHide:!0,sortable:!0,headerComponentParams:{canonicalSortKey:u.T8.DESCRIPTION},cellClassRules:{"is-ordered-by":Ge}});const{metricKeys:l,paramKeys:s,tagKeys:d}=C;return l.length&&e.push({headerName:"Metrics",groupId:u.RO.METRICS,children:l.map((e=>{var n,r;const t=(0,$.GF)(u.RO.METRICS,e),o=Ue.g[e],i=null!==(n=null===o||void 0===o?void 0:o.displayName)&&void 0!==n?n:e,l=(a=e,`${$.tZ}-${a}`);var a;return{headerName:i,colId:t,headerTooltip:(0,$.$e)(u.RO.METRICS,e),field:l,tooltipValueGetter:e=>{var n;return null===(n=e.data)||void 0===n?void 0:n[l]},initialWidth:null!==(r=null===o||void 0===o?void 0:o.initialColumnWidth)&&void 0!==r?r:100,initialHide:!0,sortable:!0,headerComponentParams:{canonicalSortKey:t},valueFormatter:null===o||void 0===o?void 0:o.valueFormatter,cellRendererSelector:({data:{groupParentInfo:e}})=>e?{component:"AggregateMetricValueCell"}:void 0,cellClassRules:{"is-previewable-cell":()=>!0,"is-ordered-by":Ge}}}))}),s.length&&e.push({headerName:"Parameters",groupId:u.RO.PARAMS,children:s.map((e=>{const n=(0,$.GF)(u.RO.PARAMS,e);return{colId:n,headerName:e,headerTooltip:(0,$.$e)(u.RO.PARAMS,e),field:ze(e),tooltipField:ze(e),initialHide:!0,initialWidth:100,sortable:!0,headerComponentParams:{canonicalSortKey:n},cellClassRules:{"is-previewable-cell":()=>!0,"is-ordered-by":Ge}}}))}),d.length&&e.push({headerName:"Tags",colId:u.RO.TAGS,children:d.map((e=>({colId:(0,$.GF)(u.RO.TAGS,e),headerName:e,initialHide:!0,initialWidth:100,headerTooltip:(0,$.$e)(u.RO.TAGS,e),field:Ke(e),tooltipField:Ke(e)})))}),e}),[r,t,o,n,C,h,m,f,R]),b=(0,i.useMemo)((()=>[...Qe(!0).map((e=>(0,$.GF)(u.RO.ATTRIBUTES,e))),...C.paramKeys.map((e=>(0,$.GF)(u.RO.PARAMS,e))),...C.metricKeys.map((e=>(0,$.GF)(u.RO.METRICS,e))),...C.tagKeys.map((e=>(0,$.GF)(u.RO.TAGS,e)))]),[C]);return(0,i.useEffect)((()=>{if(p&&!h)for(const n of b){const r=e.includes(n);p.setColumnVisible(n,r)}}),[e,p,b,h]),x},Xe={initialWidth:100,autoSizePadding:0,headerComponentParams:{menuIcon:"fa-bars"},resizable:!0,filter:!0,suppressMenu:!0,suppressMovable:!0};var en=r(24523);const nn=({isFiltered:e,onClearFilters:n})=>(0,h.Y)("div",{css:rn.noResultsWrapper,children:(0,h.Y)("div",{css:rn.noResults,children:e?(0,h.Y)(p.Empty,{button:(0,h.Y)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewrunsemptytable.tsx_35",type:"primary",onClick:n,children:(0,h.Y)(k.A,{id:"pEpexK",defaultMessage:"Clear filters"})}),description:(0,h.Y)(k.A,{id:"Nnsm0p",defaultMessage:"All runs in this experiment have been filtered. Change or clear filters to view runs."}),title:(0,h.Y)(k.A,{id:"Tl63jz",defaultMessage:"All runs are filtered"}),image:(0,h.Y)(p.FilterIcon,{})}):(0,h.Y)(p.Empty,{description:(0,h.Y)(k.A,{id:"coo35p",defaultMessage:"No runs have been logged yet. <link>Learn more</link> about how to create ML model training runs in this experiment.",values:{link:e=>(0,h.Y)("a",{target:"_blank",href:en.XO,rel:"noreferrer",children:e})}}),title:(0,h.Y)(k.A,{id:"sByLVU",defaultMessage:"No runs logged"}),image:(0,h.Y)(p.BeakerIcon,{})})})}),rn={noResults:{maxWidth:360},noResultsWrapper:e=>({marginTop:e.spacing.lg,inset:0,backgroundColor:e.colors.backgroundPrimary,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"})},tn="is-out-of-viewport",on="is-hidden",ln="is-minimized",an=".ag-root",sn=".ag-pinned-left-cols-container",dn=".ag-center-cols-container",cn=".ag-header",un=".ag-body-viewport",gn=({onClick:e,gridContainerElement:n,isInitialized:r,visible:t,moreRunsAvailable:o,moreAvailableRunsTableColumnCount:l=0})=>{const a=(0,i.useRef)(null),s=(0,i.useRef)(),c=(0,i.useRef)(Boolean(o));(0,i.useEffect)((()=>{c.current=Boolean(o)}),[o]);const u=(0,i.useCallback)((e=>{if(!a.current||!window.ResizeObserver||!e)return;const n=a.current,r=e.querySelector(an),t=e.querySelector(sn),o=e.querySelector(dn),i=e.querySelector(cn),l=e.querySelector(un);let d=0,u=0,g=0,p=0,m=0,h=0;if(t&&o&&i&&r&&l){const e=new ResizeObserver((e=>{var a,f,v,y;for(const n of e)n.target===r&&(d=n.contentRect.width),n.target===t&&(u=n.contentRect.width,g=n.contentRect.height),n.target===l&&(m=n.contentRect.height),n.target===i&&(h=n.contentRect.height),n.target===o&&(p=n.contentRect.width);const C=u+p,R=h;C+180>=d?null===(a=s.current)||void 0===a||a.classList.add(tn):null===(f=s.current)||void 0===f||f.classList.remove(tn);const x=c.current?32:0,b=g<m?g-x:m;b<100?null===(v=s.current)||void 0===v||v.classList.add(ln):null===(y=s.current)||void 0===y||y.classList.remove(ln),n.style.transform=`translate3d(${C}px, ${R}px, 0)`,n.style.height=`${b+1}px`}));return e.observe(t),e.observe(o),e.observe(i),e.observe(r),e.observe(l),()=>e.disconnect()}}),[]);return(0,i.useEffect)((()=>{r&&n&&(s.current=n,u(n))}),[u,r,n]),window.ResizeObserver?(0,h.Y)("div",{ref:a,css:pn.columnContainer,className:t?"":on,children:t&&(0,h.Y)("div",{css:pn.buttonContainer,children:(0,h.FD)(d.B,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_experimentviewrunstableaddcolumncta.tsx_218",css:pn.button,type:"link",onClick:e,children:[(0,h.Y)(p.PlusCircleIcon,{css:pn.buttonIcon}),(0,h.Y)("div",{css:pn.caption,children:(0,h.Y)(k.A,{id:"npHb2a",defaultMessage:"Show more columns {count, select, 0 {} other {({count} total)}}",values:{count:l}})})]})})}):null},pn={columnContainer:e=>({width:180,height:0,position:"absolute",border:`1px solid ${e.colors.borderDecorative}`,borderTop:0,top:0,left:0,willChange:"transform",transform:"translate3d(0, 0, 0)",[`.${ln} &`]:{display:"flex",alignItems:"center"},[`&.${on}, .${tn} &`]:{display:"none"},pointerEvents:"none",display:"flex",alignItems:"center"}),buttonContainer:e=>({top:0,paddingLeft:e.spacing.lg,paddingRight:e.spacing.lg,width:"100%",[`.${ln} &`]:{paddingTop:e.spacing.xs},pointerEvents:"all"}),button:{whiteSpace:"pre-wrap",width:"100%"},buttonIcon:e=>({color:e.colors.textSecondary}),caption:e=>({color:e.colors.textSecondary,[`.${ln} &`]:{display:"none"}})},mn=e=>(0,h.Y)("strong",{children:e}),hn=({isLoading:e,allRunsCount:n})=>(0,h.FD)("div",{css:fn.statusBar,children:[(0,h.Y)(d.T.Text,{size:"sm",color:e?"secondary":void 0,children:(0,h.Y)(k.A,{id:"gLj8lU",defaultMessage:"<strong>{length}</strong> matching {length, plural, =0 {runs} =1 {run} other {runs}}",values:{strong:mn,length:n}})}),e&&(0,h.Y)(d.S,{size:"small"})]}),fn={statusBar:e=>({height:28,display:"flex",gap:8,marginTop:-1,position:"relative",alignItems:"center",borderTop:`1px solid ${e.colors.border}`})};var vn=r(30167),yn=r(46441);const Cn=(e,n,r)=>{r.forEachNode((r=>{var t;if(null!==(t=r.data)&&void 0!==t&&t.isLoadMoreRow)return;const{runInfo:o,runDateAndNestInfo:i}=r.data;if(!o)return;const l=o.runUuid;e.includes(l)&&(null!==i&&void 0!==i&&i.childrenIds&&e.push(...i.childrenIds),r.setSelected(n,!1,!0))}))};var Rn=r(29944),xn=r(91586);var bn={name:"yqjhl6",styles:"display:flex;flex-direction:column;position:relative"};const En=i.memo((({experiments:e,searchFacetsState:n,runsData:r,isLoading:t,moreRunsAvailable:g,updateViewState:f,onAddColumnClicked:y,rowsData:C,loadMoreRunsFunc:x,onDatasetSelected:b,expandRows:E,viewState:I,uiState:w,compareRunsMode:S})=>{const{theme:T}=(0,d.u)(),A=(0,Q.e)(),N=(0,m.Px)(),{orderByKey:L,orderByAsc:Y}=n,{selectedColumns:O,runsPinned:F,runsHidden:P,runListHidden:H}=w,B="TABLE"!==S,U=(0,i.useMemo)((()=>{const e=a.A.getVisibleTagKeyList(r.tagsList).length;return r.metricKeyList.length+r.paramKeyList.length+e>1e3}),[r]),{paramKeyList:G,metricKeyList:V,tagsList:j}=r,{filteredMetricKeyList:Z,filteredParamKeyList:J,filteredTagsList:X}=(0,i.useMemo)((()=>{if(U&&!B){const e=[],n=[],r=[];for(const t of O)if(t.startsWith(u.RO.METRICS))e.push((0,$.dz)(t,u.RO.METRICS));else if(t.startsWith(u.RO.PARAMS))n.push((0,$.dz)(t,u.RO.PARAMS));else if(t.startsWith(u.RO.TAGS)){const e=(0,$.dz)(t,u.RO.TAGS);r.push({[e]:{key:e,value:null}})}return{filteredMetricKeyList:e,filteredParamKeyList:n,filteredTagsList:r}}return{filteredMetricKeyList:V,filteredParamKeyList:G,filteredTagsList:j}}),[O,U,B,V,G,j]),[ee,ne]=(0,i.useState)(),[re,te]=(0,i.useState)(),oe=((0,i.useRef)([]),(0,i.useMemo)((()=>a.A.getVisibleTagKeyList(X)),[X])),ie=(0,i.useRef)(null),ae=(0,i.useMemo)((()=>C.some((e=>{var n;return null===(n=e.runDateAndNestInfo)||void 0===n?void 0:n.hasExpander}))),[C]),se=(0,i.useCallback)((e=>A((({runsExpanded:n,...r})=>({...r,runsExpanded:{...n,[e]:!n[e]}})))),[A]),de=(0,i.useCallback)((e=>{A((n=>({...n,runsPinned:n.runsPinned.includes(e)?n.runsPinned.filter((n=>n!==e)):[...n.runsPinned,e]})))}),[A]),ue=(0,Rn.v)(C,w.useGroupedValuesInCharts),ge=(0,i.useCallback)((e=>{ne(e.api),te(e.columnApi)}),[]),{handleRowSelected:pe,onSelectionChange:me}=(e=>{const n=(0,i.useCallback)((({api:n})=>{const r=n.getSelectedRows().filter((e=>e.runInfo)).map((({runInfo:e})=>e.runUuid));e({runsSelected:r.reduce(((e,n)=>({...e,[n]:!0})),{})})}),[e]);return{handleRowSelected:(0,i.useCallback)((e=>{const n=Boolean(e.node.isSelected()),{runDateAndNestInfo:r,runInfo:t,groupParentInfo:o}=e.data;if(o&&Cn(o.runUuids,n,e.api),!r)return;const{isParent:i,expanderOpen:l,childrenIds:a}=r;if(i&&l&&a)Cn(a,n,e.api);else if(t){Cn([t.runUuid],n,e.api);const r=(0,c.uniqBy)(e.api.getSelectedRows().filter((e=>Boolean(e.runUuid))),"runUuid");s=r,e.api.forEachNode((e=>{const n=e.data;n.groupParentInfo&&(n.groupParentInfo.runUuids.every((e=>s.some((n=>n.runUuid===e))))&&e.setSelected(!0,!1,!0),n.groupParentInfo.runUuids.some((e=>s.some((n=>n.runUuid===e))))||e.setSelected(!1,!1,!0))}))}var s}),[]),onSelectionChange:n}})(f),fe=(0,i.useMemo)((()=>(0,D.Rn)()?C.every((e=>e.hidden)):r.runInfos.every((({runUuid:e})=>P.includes(e)))),[r,C,P]),ve=(0,D.Rn)()&&!(0,c.isEmpty)(w.runsVisibilityMap),ye=Je({selectedColumns:O,onExpand:se,compareExperiments:e.length>1,onTogglePin:de,onToggleVisibility:ue,metricKeyList:Z,paramKeyList:J,tagKeyList:oe,columnApi:re,isComparingRuns:B,onDatasetSelected:b,expandRows:E,runsHiddenMode:w.runsHiddenMode}),Ce=(0,i.useCallback)((e=>{if(e&&B)try{e.sizeColumnsToFit()}catch{}}),[B]);(0,i.useEffect)((()=>{if(ee)if(t)ee.showLoadingOverlay();else{if(ee.hideOverlay(),C.length&&g)return ee.setRowData([...C,{runUuid:"",rowUuid:(0,c.uniqueId)("load_more"),isLoadMoreRow:!0}]),void Ce(ee);ee.setRowData(C),Ce(ee)}}),[ee,C,t,g,x,Ce]);const Re=(0,i.useMemo)((()=>Qe(e.length>1).length+(V.length+G.length+oe.length)),[e.length,oe.length,V.length,G.length]),xe=O.length>=Re,be=Math.max(0,Re-O.length),Ee=(0,i.useMemo)((()=>r.runInfos.filter((e=>F.includes(e.runUuid)||r.runUuidsMatchingFilter.includes(e.runUuid))).length),[r,F]);(0,i.useLayoutEffect)((()=>{ee&&(B&&(ee.deselectAll(),ee.sizeColumnsToFit()),ee.resetRowHeights())}),[ee,B]);const Me=(0,i.useCallback)((e=>{if(B||!E)return $.Fc;const n=(0,$.GF)(u.RO.ATTRIBUTES,u.qo.DATASET);return((e,n)=>{if(e){var r;const{data:e}=n,t=Math.min((null===(r=e.datasets)||void 0===r?void 0:r.length)||1,3);return $.Fc*t}return $.Fc})(O.includes(n),e)}),[O,B,E]);(0,i.useEffect)((()=>{null===ee||void 0===ee||ee.resetRowHeights()}),[ee,O,E]);const[Ie,we]=(0,i.useState)(null),Se=(0,i.useCallback)((({column:e,data:n,value:r})=>{var t;const o=null===(t=e.getParent())||void 0===t?void 0:t.getGroupId();(o===u.RO.METRICS||o===u.RO.PARAMS)&&(we({value:r,header:`Run name: ${n.runName}, Column name: ${e.getColDef().headerTooltip}`}),f({previewPaneVisible:!0}))}),[f]),Te=!xe&&!B&&C.length>0,Ae=!B&&I.previewPaneVisible,Ne=!H||!B,De=!H,Le=C.length<1&&!t&&Ne,Ye=(0,i.useMemo)((()=>({orderByAsc:Y,orderByKey:L})),[Y,L]),{cellMouseOverHandler:Oe,cellMouseOutHandler:Pe}=(0,xn._)(ie),Be=In();return(0,h.FD)("div",{css:e=>({display:"grid",flex:1,gridTemplateColumns:Ae?"1fr auto":"1fr",borderTop:`1px solid ${e.colors.border}`}),className:B?"is-table-comparing-runs-mode":void 0,children:[(0,h.FD)("div",{css:bn,children:[(0,h.FD)("div",{ref:ie,className:o()("ag-theme-balham ag-grid-sticky",{"ag-grid-expanders-visible":ae,"is-table-comparing-runs-mode":B}),css:[Be,{display:Ne?"block":"hidden",height:"100%"},""],"aria-hidden":!Ne,children:[(0,h.Y)(le,{runsHiddenMode:w.runsHiddenMode,usingCustomVisibility:ve,useGroupedValuesInCharts:Boolean(w.groupBy)&&w.useGroupedValuesInCharts,allRunsHidden:fe,children:(0,h.Y)(l.p,{context:Ye,defaultColDef:Xe,columnDefs:ye,rowSelection:"multiple",onGridReady:ge,onSelectionChanged:me,getRowHeight:Me,headerHeight:$.Fc,onRowSelected:pe,suppressRowClickSelection:!0,suppressColumnMoveAnimation:!0,suppressScrollOnNewData:!0,isFullWidthRow:Ze,fullWidthCellRenderer:"LoadMoreRowRenderer",fullWidthCellRendererParams:{loadMoreRunsFunc:x},suppressFieldDotNotation:!0,enableCellTextSelection:!0,components:{agColumnHeader:v,loadingOverlayComponent:qe,LoadMoreRowRenderer:ke,SourceCellRenderer:q.t,ModelsCellRenderer:z,ModelsHeaderCellRenderer:K,VersionCellRenderer:W,DateCellRenderer:R,ExperimentNameCellRenderer:_,RunDescriptionCellRenderer:M,RowActionsCellRenderer:ce,RowActionsHeaderCellRenderer:he,RunNameCellRenderer:_e,DatasetsCellRenderer:Fe,AggregateMetricValueCell:He},suppressNoRowsOverlay:!0,loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:{showImmediately:!0},getRowId:je,rowBuffer:101,onCellClicked:Se,onGridSizeChanged:({api:e})=>Ce(e),onCellMouseOver:Oe,onCellMouseOut:Pe,maxBlocksInCache:20,cacheBlockSize:100,maxConcurrentDatasourceRequests:2,immutableData:!0,getRowNodeId:e=>e.rowUuid,suppressPropertyNamesCheck:!0,suppressAnimationFrame:!0})}),Te&&(0,h.Y)(gn,{gridContainerElement:ie.current,isInitialized:Boolean(ee),onClick:y,visible:!t,moreRunsAvailable:g,moreAvailableRunsTableColumnCount:be})]}),Le&&(0,h.Y)(nn,{onClearFilters:()=>{N((0,yn.G)())},isFiltered:(0,s.e9)(n)}),De&&(0,h.Y)(hn,{allRunsCount:Ee,isLoading:t})]}),Ae&&(0,h.Y)(vn.V,{content:null===Ie||void 0===Ie?void 0:Ie.value,copyText:null===Ie||void 0===Ie?void 0:Ie.value,headerText:null===Ie||void 0===Ie?void 0:Ie.header,onClose:()=>f({previewPaneVisible:!1}),empty:(0,h.Y)(p.Empty,{description:(0,h.Y)(k.A,{id:"cAKSkQ",defaultMessage:"Select a cell to display preview"})})})]})})),Mn=(e,n=!0)=>{const r=(e=>({rowForeground:e.colors.textPrimary,rowBackground:e.colors.backgroundPrimary,rowBackgroundHover:e.colors.tableBackgroundUnselectedHover,rowBackgroundSelected:e.colors.tableBackgroundSelectedDefault,rowBackgroundHoverSelected:e.colors.tableBackgroundSelectedHover,columnSortedBy:`${e.colors.blue400}1F`,headerBackground:e.colors.backgroundSecondary,headerTextColor:e.colors.textSecondary,headerGroupTextColor:e.colors.textSecondary,borderColor:e.colors.borderDecorative,headerBorderColor:"transparent",checkboxBorderColor:e.colors.actionDefaultBorderDefault,checkboxBorderColorChecked:e.colors.backgroundPrimary,checkboxBackgroundColorChecked:e.colors.actionPrimaryBackgroundDefault,overlayBackground:`${e.colors.backgroundSecondary}99`}))(e);return{height:"100%",position:"relative","&.ag-theme-balham":{"--ag-border-color":r.borderColor,"--ag-row-border-color":r.borderColor,"--ag-foreground-color":r.rowForeground,"--ag-background-color":r.rowBackground,"--ag-odd-row-background-color":r.rowBackground,"--ag-row-hover-color":r.rowBackgroundHover,"--ag-selected-row-background-color":r.rowBackgroundSelected,"--ag-header-foreground-color":r.headerTextColor,"--ag-header-background-color":r.headerBackground,"--ag-modal-overlay-background-color":r.overlayBackground,"&.ag-grid-sticky .ag-header":{position:"sticky",top:0,zIndex:1},"&.ag-grid-sticky .ag-root":{overflow:"visible"},"&.ag-grid-sticky .ag-root-wrapper":{border:"0",borderRadius:"4px",overflow:"visible"},".is-table-comparing-runs-mode & .ag-body-horizontal-scroll.ag-scrollbar-invisible":{display:"none"},".ag-header::after":{content:'""',position:"absolute",top:$.Fc,left:0,right:0,height:1,backgroundColor:r.borderColor},".ag-cell":{display:"flex",overflow:"hidden","& > .ag-cell-wrapper":{overflow:"hidden"}},".ag-header-cell":n?{padding:0}:void 0,".ag-header-cell .ag-checkbox":n?{padding:"0 7px",borderLeft:"1px solid transparent"}:void 0,".ag-cell.is-ordered-by, .ag-header-cell > .is-ordered-by":{backgroundColor:r.columnSortedBy},".ag-header-row":{"--ag-border-color":r.headerBorderColor},".ag-header-row.ag-header-row-column-group":{"--ag-header-foreground-color":r.headerGroupTextColor},".ag-row.ag-row-selected.ag-row-hover":{backgroundColor:r.rowBackgroundHoverSelected},".ag-row.is-highlighted":{backgroundColor:r.rowBackgroundHoverSelected},".ag-header:not(:hover) .ag-header-cell::after, .ag-header:not(:hover) .ag-header-group-cell::after":{opacity:0},".ag-pinned-left-header":{borderRight:"none"},".ag-overlay-loading-wrapper":{paddingTop:4*e.spacing.md,alignItems:"center",zIndex:2},".ag-overlay-loading-wrapper .ag-react-container":{flex:1},".ag-center-cols-container":{minHeight:0},".ag-full-width-row":{borderBottom:0,backgroundColor:"transparent",zIndex:1,"&.ag-row-hover":{backgroundColor:"transparent"}},".is-checkbox-cell":{display:"flex",alignItems:"center",paddingLeft:7,".is-multiline-cell .ag-cell-value":{height:"100%"}},".is-previewable-cell":{cursor:"pointer"},".ag-header-cell .ag-checkbox .ag-input-wrapper:not(.ag-indeterminate):not(.ag-checked)":{"--ag-checkbox-background-color":r.headerBackground},".ag-cell-wrapper .ag-selection-checkbox":{marginRight:20},".is-checkbox-cell, .ag-header-cell .ag-checkbox":{".ag-checkbox-input-wrapper::after":{color:r.checkboxBorderColor},".ag-checkbox-input-wrapper.ag-checked":{"--ag-checkbox-background-color":r.checkboxBackgroundColorChecked,"--ag-checkbox-checked-color":r.checkboxBorderColorChecked,"&::after":{color:r.checkboxBorderColorChecked}}}}}},In=({usingCustomHeaderComponent:e=!0}={})=>{const{theme:n}=(0,d.u)();return(0,i.useMemo)((()=>Mn(n,e)),[n,e])}},91586:function(e,n,r){r.d(n,{_:function(){return i}});var t=r(46709),o=r(64865);const i=(e,n="is-highlighted",r=!1,i)=>{const{onHighlightChange:l,highlightDataTrace:a}=(0,o.ZY)(),s=(0,t.useCallback)(((t,i)=>{var l,a;const s=null===(l=e.current)||void 0===l?void 0:l.querySelector(`.${n}`),d=r?".ag-center-cols-viewport":"",c=null===(a=e.current)||void 0===a?void 0:a.querySelector(`${d} .ag-row[row-id="${t}"]`);s&&s!==c&&s.classList.remove(n),i!==o.WF.TABLE&&c&&c.classList.add(n)}),[e,n,r]);(0,t.useEffect)((()=>l(s)),[s,l]);return{cellMouseOverHandler:(0,t.useCallback)((({data:e})=>{const n="object"===typeof e&&"groupParentInfo"in e,r=i?i({data:e}):n?e.rowUuid:e.runUuid;a(r,{source:o.WF.TABLE})}),[a,i]),cellMouseOutHandler:(0,t.useCallback)((()=>a(null)),[a])}}},91944:function(e,n,r){r.d(n,{$g:function(){return g},BH:function(){return l},UI:function(){return c},bf:function(){return u},kk:function(){return i},q5:function(){return d},qp:function(){return s},uk:function(){return a}});var t=r(44105),o=r(77680);const i="mlflow.experimentKind",l=e=>{var n;return null===e||void 0===e||null===(n=e.find((e=>e.key===i)))||void 0===n?void 0:n.value},a=e=>e===t.Gk.GENAI_DEVELOPMENT_INFERRED||e===t.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED||e===t.Gk.NO_INFERRED_TYPE||e===t.Gk.GENAI_DEVELOPMENT||e===t.Gk.CUSTOM_MODEL_DEVELOPMENT||e===t.Gk.EMPTY,s=e=>e===t.Gk.GENAI_DEVELOPMENT||e===t.Gk.GENAI_DEVELOPMENT_INFERRED,d=e=>e===t.Gk.GENAI_DEVELOPMENT_INFERRED?t.Gk.GENAI_DEVELOPMENT:e===t.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED?t.Gk.CUSTOM_MODEL_DEVELOPMENT:e,c={[t.Gk.GENAI_DEVELOPMENT]:(0,o.zR)({id:"PewjIJ",defaultMessage:"GenAI apps & agents"}),[t.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,o.zR)({id:"nF10K1",defaultMessage:"Machine learning"}),[t.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"ACNZd9",defaultMessage:"GenAI apps & agents"}),[t.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"NUjE6C",defaultMessage:"Machine learning"}),[t.Gk.NO_INFERRED_TYPE]:(0,o.zR)({id:"qr7dhT",defaultMessage:"None"}),[t.Gk.FINETUNING]:(0,o.zR)({id:"G4x6G7",defaultMessage:"Finetuning"}),[t.Gk.REGRESSION]:(0,o.zR)({id:"OWfx/j",defaultMessage:"Regression"}),[t.Gk.CLASSIFICATION]:(0,o.zR)({id:"P/Uvf4",defaultMessage:"Classification"}),[t.Gk.FORECASTING]:(0,o.zR)({id:"qDiJI2",defaultMessage:"Forecasting"}),[t.Gk.AUTOML]:(0,o.zR)({id:"wZtuCR",defaultMessage:"AutoML"}),[t.Gk.EMPTY]:(0,o.zR)({id:"0z0lH2",defaultMessage:"None"})},u={[t.Gk.GENAI_DEVELOPMENT]:(0,o.zR)({id:"Fg/zU/",defaultMessage:"GenAI apps & agents"}),[t.Gk.CUSTOM_MODEL_DEVELOPMENT]:(0,o.zR)({id:"T/46y0",defaultMessage:"Machine learning"}),[t.Gk.GENAI_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"CPO2ro",defaultMessage:"GenAI apps & agents"}),[t.Gk.CUSTOM_MODEL_DEVELOPMENT_INFERRED]:(0,o.zR)({id:"KYJxmN",defaultMessage:"Machine learning"}),[t.Gk.NO_INFERRED_TYPE]:(0,o.zR)({id:"jTqRO+",defaultMessage:"None"}),[t.Gk.FINETUNING]:(0,o.zR)({id:"61P6Da",defaultMessage:"finetuning"}),[t.Gk.REGRESSION]:(0,o.zR)({id:"W60/kq",defaultMessage:"regression"}),[t.Gk.CLASSIFICATION]:(0,o.zR)({id:"KwAeyt",defaultMessage:"classification"}),[t.Gk.FORECASTING]:(0,o.zR)({id:"VwxvII",defaultMessage:"forecasting"}),[t.Gk.AUTOML]:(0,o.zR)({id:"lFnpMi",defaultMessage:"AutoML"}),[t.Gk.EMPTY]:(0,o.zR)({id:"+khKtf",defaultMessage:"None"})},g=()=>[t.Gk.GENAI_DEVELOPMENT,t.Gk.CUSTOM_MODEL_DEVELOPMENT]},92550:function(e,n,r){r.d(n,{e:function(){return a}});var t=r(96584),o=r(76118),i=r(61077),l=r(46709);const a=({experimentIds:e,orderByAsc:n,orderByField:r,searchQuery:a,selectedFilterDatasets:s,orderByDatasetName:d,orderByDatasetDigest:c},{enabled:u=!0}={})=>{var g;const p=["SEARCH_LOGGED_MODELS",JSON.stringify(e),r,n,a,JSON.stringify(s),d,c],{data:m,isLoading:h,isFetching:f,fetchNextPage:v,refetch:y,error:C}=(0,t.q)({queryKey:p,queryFn:async({pageParam:t})=>{const l={experiment_ids:e,order_by:[{field_name:null!==r&&void 0!==r?r:"creation_time",ascending:null!==n&&void 0!==n&&n,dataset_name:d,dataset_digest:c}],page_token:t,filter:a,datasets:(0,o.isEmpty)(s)?void 0:s};return(0,i.ff)((0,i.we)("ajax-api/2.0/mlflow/logged-models/search"),"POST",l)},cacheTime:0,getNextPageParam:e=>e.next_page_token,refetchOnWindowFocus:!1,retry:!1,enabled:u});return{isLoading:h,isFetching:f,data:(0,l.useMemo)((()=>null===m||void 0===m?void 0:m.pages.flatMap((e=>null===e||void 0===e?void 0:e.models)).filter(Boolean)),[m]),nextPageToken:null===(g=(0,o.last)(null===m||void 0===m?void 0:m.pages))||void 0===g?void 0:g.next_page_token,refetch:y,error:C,loadMoreResults:v}}},96980:function(e,n,r){r.d(n,{f:function(){return t}});const t=e=>Boolean(e.match(/^[^. /]+\.[^. /]+\.[^. /]+$/))}}]);