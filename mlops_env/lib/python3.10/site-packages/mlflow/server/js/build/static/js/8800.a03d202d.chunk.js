"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[8800],{777:function(e,t,n){n.d(t,{S:function(){return f}});var s=n(68248),r=n(76118),a=n(27757),i=n(79081),o=n(74060),u=n(73408);var l={name:"1gyqtrv",styles:"width:min-content;max-width:100%"},c={name:"1h52dri",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap"};const d=({objectKey:e,value:t})=>{const{theme:n}=(0,a.u)(),d=(0,r.isString)(t)?t:JSON.stringify(t);return(0,u.Y)(i.T,{content:d,componentId:"shared.model-trace-explorer.expectation-value-preview-tooltip",children:(0,u.Y)(o.Tag,{color:"indigo",componentId:"shared.model-trace-explorer.expectation-array-item-tag",css:l,children:(0,u.FD)(a.T.Text,{css:c,children:[e&&(0,u.FD)(a.T.Text,{bold:!0,css:(0,s.AH)({marginRight:n.spacing.xs},""),children:[e,":"]}),d]})})})},f=({parsedValue:e,singleLine:t=!1})=>{const{theme:n}=(0,a.u)();return(0,r.isNil)(e)?null:Array.isArray(e)?t?(0,u.Y)(d,{value:e}):(0,u.Y)("div",{css:(0,s.AH)({display:"flex",flexDirection:"column",gap:n.spacing.sm},""),children:e.map(((e,t)=>(0,u.Y)(d,{value:e},t)))}):(0,r.isObject)(e)?t?(0,u.Y)(d,{value:e}):(0,u.Y)("div",{css:(0,s.AH)({display:"flex",flexDirection:"column",gap:n.spacing.sm},""),children:Object.entries(e).map((([e,t])=>(0,u.Y)(d,{objectKey:e,value:t},e)))}):(0,u.Y)(d,{value:e})}},4947:function(e,t,n){n.d(t,{$W:function(){return E},A5:function(){return L},Al:function(){return O},FW:function(){return v},Gq:function(){return M},LV:function(){return p},My:function(){return I},Pn:function(){return h},Rb:function(){return R},Rl:function(){return d},Te:function(){return g},XQ:function(){return f},XS:function(){return x},YO:function(){return T},d6:function(){return N},im:function(){return A},k0:function(){return y},li:function(){return S},rc:function(){return _},tP:function(){return l},tj:function(){return m},yX:function(){return c}});var s=n(76118),r=n(46709),a=n(33481),i=n(64667),o=n(93241),u=n(71540);const l="user",c="session",d="response",f="trace_id",g="request_time",m="execution_duration",E="state",v="source",h="tags",p="trace_name",N="request",S="run_name",A="logged_model",T="tokens",_="custom_metadata",M="span.name",R="span.type",y="span.content",I=[m,g,c],O=[m,g],C=[a._1.CHUNK_RELEVANCE,a._1.TOTAL_INPUT_TOKEN_COUNT,a._1.TOTAL_OUTPUT_TOKEN_COUNT,a._1.TOTAL_TOKEN_COUNT,a._1.DOCUMENT_RECALL,a._1.DOCUMENT_RATINGS],b="_assessment_column";function L(e){return e+b}function w(e){return e+"_expectation_column"}const x=(e,t,n,a,_,M)=>(0,r.useMemo)((()=>{const r=null!==M&&void 0!==M?M:(0,u.ZS)(t);let R=[];if(r)R=[{id:N,label:e.formatMessage({id:"Ey+oLI",defaultMessage:"Request"}),type:i.$6.INPUT,group:i.w8.INFO}];else{let e=new Set,n=new Set;t.forEach((t=>{const{inputs:s}=t;e=new Set([...e,...Object.keys(s||{})]),n=new Set([...n,...Object.keys(t.traceInfo||{})])})),R=[...e].map((e=>({id:e,label:e,type:i.$6.INPUT})))}const y=n.map((e=>({id:L(e.name),label:e.displayName,type:i.$6.ASSESSMENT,assessmentInfo:e,group:i.w8.ASSESSMENT}))).filter((e=>!e.assessmentInfo.isRetrievalAssessment&&!C.includes(e.assessmentInfo.name)));let I;const O={};if(r){I=[{id:f,label:e.formatMessage({id:"cv/bGM",defaultMessage:"Trace ID"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:p,label:e.formatMessage({id:"fq8v6G",defaultMessage:"Trace name"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:d,label:e.formatMessage({id:"BU8Jni",defaultMessage:"Response"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:l,label:e.formatMessage({id:"JcRo6a",defaultMessage:"User"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:c,label:e.formatMessage({id:"womPSY",defaultMessage:"Session"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:m,label:e.formatMessage({id:"FnG9dP",defaultMessage:"Execution time"}),filterLabel:e.formatMessage({id:"rRhMQt",defaultMessage:"Execution time (ms)"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:g,label:e.formatMessage({id:"/Aup8Q",defaultMessage:"Request time"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:E,label:e.formatMessage({id:"ySuIn+",defaultMessage:"State"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:v,label:e.formatMessage({id:"vM/qUz",defaultMessage:"Source"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:A,label:e.formatMessage({id:"ofr72S",defaultMessage:"Version"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},{id:T,label:e.formatMessage({id:"q/zoT3",defaultMessage:"Tokens"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},(0,s.isNil)(a)&&{id:S,label:e.formatMessage({id:"dVh69l",defaultMessage:"Run name"}),type:i.$6.TRACE_INFO,group:i.w8.INFO},!(0,o.ij)()&&{id:h,label:e.formatMessage({id:"M3c7bs",defaultMessage:"Tags"}),type:i.$6.TRACE_INFO,group:i.w8.TAG}];const n=[...t,..._||[]],r={};if(n.forEach((e=>{var t;const n=null===(t=e.traceInfo)||void 0===t?void 0:t.trace_metadata;n&&Object.keys(n).forEach((e=>{e.startsWith(u.nt)||r[e]||(r[e]={id:(0,u.c7)(e),label:e,type:i.$6.TRACE_INFO,group:i.w8.INFO})}));const s=e.targets;s&&Object.keys(s).forEach((e=>{O[e]||(O[e]={id:w(e),label:e,type:i.$6.EXPECTATION,group:i.w8.EXPECTATION,expectationName:e})}))})),I=[...I,...Object.values(r)],(0,o.ij)()){const e={};n.map((e=>{var t;return null===(t=e.traceInfo)||void 0===t?void 0:t.tags})).forEach((t=>{Object.keys(t||{}).forEach((t=>{t.startsWith(u.nt)||e[t]||(e[t]={id:(0,u.kZ)(t),label:t,type:i.$6.TRACE_INFO,group:i.w8.TAG})}))}));const t=Object.values(e);I=[...I,...t]}}else I=t.some((e=>!(0,s.isNil)(e.requestTime)))?[{id:g,label:e.formatMessage({id:"/Aup8Q",defaultMessage:"Request time"}),type:i.$6.INTERNAL_MONITOR_REQUEST_TIME}]:[];return[...R,...I,...y,...Object.values(O)].filter((e=>Boolean(e)))}),[t,e,n,a,_,M])},9858:function(e,t,n){n.d(t,{CY:function(){return f},G8:function(){return i},IX:function(){return o},OV:function(){return u},QO:function(){return E},YH:function(){return a},wG:function(){return m},x2:function(){return g}});var s=n(76118),r=n(90448);const a={up:"#02B30214",down:"#F000400F"},i="#64172B",o="#077A9D",u="#FFAB00",l="#99DDB4",c="#FCA4A1",d="#02B30214",f=(e,t,n)=>{if("pass-fail"===t.dtype){if((null===n||void 0===n?void 0:n.stringValue)===r.gZ.YES)return e.isDarkMode?e.colors.green400:e.colors.green600;if((null===n||void 0===n?void 0:n.stringValue)===r.gZ.NO)return e.isDarkMode?e.colors.red400:e.colors.red600}return null!==n&&void 0!==n&&n.errorMessage?e.colors.textValidationWarning:e.colors.grey400},g=(e,t,n,a=!1)=>{if("pass-fail"===t.dtype){if((null===n||void 0===n?void 0:n.stringValue)===r.gZ.YES)return d;if((null===n||void 0===n?void 0:n.stringValue)===r.gZ.NO)return e.isDarkMode?(0,r.fu)(e.colors.red800,.6):e.colors.red200;if(!a&&null!==n&&void 0!==n&&n.errorMessage)return""}else if("boolean"===t.dtype)return(0,s.isNil)(null===n||void 0===n?void 0:n.booleanValue)?"":n.booleanValue?d:e.isDarkMode?e.colors.red800:e.colors.red200;return""},m=(e,t,n)=>null!==n&&void 0!==n&&n.errorMessage?e.colors.textValidationWarning:"pass-fail"===t.dtype?(null===n||void 0===n?void 0:n.stringValue)===r.gZ.YES?e.isDarkMode?e.colors.green400:e.colors.green600:(null===n||void 0===n?void 0:n.stringValue)===r.gZ.NO?e.isDarkMode?e.colors.red400:e.colors.red600:e.colors.textSecondary:"boolean"===t.dtype?(0,s.isNil)(null===n||void 0===n?void 0:n.booleanValue)?e.colors.textSecondary:e.colors.textPrimary:"unknown"===t.dtype?e.colors.textSecondary:e.colors.textPrimary,E=(e,t,n,a)=>a?"#f09065":"pass-fail"===t.dtype?n===r.gZ.YES?l:n===r.gZ.NO?c:e.isDarkMode?e.colors.grey800:e.colors.grey200:"boolean"===t.dtype?(0,s.isNil)(n)?e.isDarkMode?e.colors.grey800:e.colors.grey200:n?l:c:e.isDarkMode?e.colors.grey800:e.colors.grey200},10708:function(e,t,n){n.d(t,{g:function(){return v},m:function(){return _}});var s=n(68248),r=n(76118),a=n(46709),i=n(27757),o=n(74060),u=n(66916),l=n(79081),c=n(42747),d=n(90448),f=n(9858),g=n(87879),m=n(38086),E=n(73408);const v=(e,t)=>{if(!(0,r.isNil)(t))if("pass-fail"===e.dtype){if(t===d.gZ.YES)return!0;if(t===d.gZ.NO)return!1}else if("boolean"===e.dtype)return!0===t};var h={name:"1jwcxx3",styles:"font-style:italic"},p={name:"1jwcxx3",styles:"font-style:italic"};var N={name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"},S={name:"1ykowef",styles:"margin-bottom:0"},A={name:"6jwybp",styles:"height:16px"},T={name:"dao2zk",styles:"display:contents;& p{margin-bottom:0;}"};const _=({assessment:e,onEdit:t,active:n=!1,disableJudgeTypeIcon:_,showRationaleInTooltip:R=!1,showPassFailText:y=!1,hideAssessmentName:I=!1,iconOnly:O=!1,disableTooltip:C=!1,isRootCauseAssessment:b,assessmentInfo:L,type:w,count:x})=>{var U,V;const{theme:D}=(0,i.u)(),Y=(0,c.tz)(),F=e?(0,d.Zh)(e):void 0,k=(0,a.useMemo)((()=>v(L,F)),[F,L]),j=(0,f.CY)(D,L,e),$=(0,f.wG)(D,L,e);let G;(null!==e&&void 0!==e&&e.errorMessage||void 0===k&&e&&d.jr[e.name])&&(G=e.errorMessage||Y.formatMessage(d.jr[e.name]));const z=e?d.c9[e.name]:void 0,H=(0,a.useMemo)((()=>z?Y.formatMessage(z):null===e||void 0===e?void 0:e.name),[e,z,Y]),P=(0,a.useMemo)((()=>e?(0,d.FN)(d.pZ[e.name]):void 0),[e]),{makeHTML:B}=(0,m.N)(),q=(0,a.useMemo)((()=>{const t=null===e||void 0===e?void 0:e.rationale;return(0,r.isString)(t)?B(t):void 0}),[e,B]),Z=(0,a.useMemo)((()=>!(0,r.isNil)(e)&&(0,d.w_)(e)),[e]),{tagText:K,icon:W,fullTagText:X}=(0,a.useMemo)((()=>function(e,t,n,a,l,m,N){let S,A="",T=(0,E.Y)(E.FK,{});const _={tagText:(0,E.Y)(c.sA,{id:"AX7L9r",defaultMessage:"Error"}),icon:(0,E.Y)(i.k,{css:(0,s.AH)({color:e.colors.textValidationWarning},"")})},M={tagText:(0,E.Y)("span",{css:h,children:(0,E.Y)(c.sA,{id:"H2UIIZ",defaultMessage:"null"})}),icon:(0,E.Y)(i.W,{css:(0,s.AH)({color:e.colors.grey400},"")})},R=m?(0,d.Zh)(m):void 0;if(Boolean(null===m||void 0===m?void 0:m.errorMessage))return _;if("pass-fail"===a.dtype||"boolean"===a.dtype){const l=v(a,R);let g="";if("pass-fail"===a.dtype)if(!0===l)g=t.formatMessage({id:"Kya8N3",defaultMessage:"Pass"});else{if(!1!==l)return M;g=t.formatMessage({id:"bz4brG",defaultMessage:"Fail"})}else if(!0===l)g=t.formatMessage({id:"lo5Me/",defaultMessage:"True"});else{if(!1!==l)return M;g=t.formatMessage({id:"OZXWas",defaultMessage:"False"})}const h=(0,f.CY)(e,a,m);if(T=!0===l?(0,E.Y)(o.CheckCircleIcon,{css:(0,s.AH)({color:h},"")}):!1===l?N?(0,E.Y)(u.X,{css:(0,s.AH)({color:h},"")}):(0,E.Y)(o.XCircleIcon,{css:(0,s.AH)({color:h},"")}):(0,E.Y)(i.W,{css:(0,s.AH)({color:h},"")}),"assessment-value"===n){const e=d.yQ[a.name];if(e){var y;const t=R&&null!==(y=e[R.toString()])&&void 0!==y?y:e[d.gZ.YES];t&&(A=(0,E.Y)(c.sA,{...t,values:{value:R}}))}else A=(0,E.FD)(E.FK,{children:[a.displayName,": ",R]})}else"value"===n&&(A=(0,r.isNil)(l)?(0,E.Y)("span",{css:p,children:g}):g)}else if("numeric"===a.dtype){const e=(0,r.isNil)(R)?R:(0,g.BM)(R);if("assessment-value"===n)A=(0,E.FD)(E.FK,{children:[a.displayName,": ",e]}),S=(0,E.FD)(E.FK,{children:[a.displayName,": ",R]});else{if((0,r.isNil)(e))return M;A=`${e}`,S=`${R}`}}else{if((0,r.isNil)(R))return M;const e=(0,E.Y)(E.FK,{children:String(R)});A="assessment-value"===n?(0,r.isNil)(R)?(0,E.Y)(E.FK,{children:a.displayName}):(0,E.FD)(E.FK,{children:[a.displayName,": ",e]}):e}return{tagText:A,icon:T,fullTagText:S}}(D,Y,w,L,0,e,b)),[D,Y,w,L,e,b,Z]),Q=(0,E.FD)(E.FK,{children:[K,x&&x>1?` (${x})`:""]});if("HUMAN"===(null===(U=L.source)||void 0===U?void 0:U.sourceType)&&!(null!==e&&void 0!==e&&null!==(V=e.source)&&void 0!==V&&V.sourceId))return(0,E.Y)(E.FK,{});const J=(0,E.Y)("div",{children:(0,E.Y)(M,{iconOnly:O,hideAssessmentName:I,tagContent:Q,active:n,icon:W,iconColor:j,textColor:$,sourceIcon:L.isCustomMetric?(0,E.Y)(o.BracketsXIcon,{}):e&&Z?(0,E.Y)(o.UserIcon,{}):(0,E.Y)(o.SparkleDoubleIcon,{}),backgroundColor:(0,f.x2)(D,L,e),disableSourceTypeIcon:_&&!Z,hasBeenEditedByHuman:Z,onEdit:t})});return(0,E.Y)(E.FK,{children:C?J:(0,E.Y)(o.HoverCard,{side:"bottom",content:(0,E.FD)("div",{css:(0,s.AH)({maxWidth:"25rem",display:"flex",flexDirection:"column",overflowWrap:"break-word",wordBreak:"break-word",gap:D.spacing.sm},""),children:[(0,E.FD)("div",{css:(0,s.AH)({display:"flex",flexDirection:"column",gap:D.spacing.xs},""),children:[(0,E.FD)("div",{css:N,children:[(0,E.FD)("div",{css:(0,s.AH)({display:"flex",gap:D.spacing.sm,alignItems:"center"},""),children:[(0,E.Y)(i.T.Title,{css:S,children:H}),(0,E.Y)(M,{iconOnly:O,hideAssessmentName:I,tagContent:X||Q,active:n,icon:W,iconColor:j,textColor:$,sourceIcon:L.isCustomMetric?(0,E.Y)(o.BracketsXIcon,{}):e&&(0,d.w_)(e)?(0,E.Y)(o.UserIcon,{}):(0,E.Y)(o.SparkleDoubleIcon,{}),backgroundColor:(0,f.x2)(D,L,e),disableSourceTypeIcon:_,hasBeenEditedByHuman:Z})]}),P&&(0,E.Y)("a",{href:P,target:"_blank",rel:"noreferrer",css:A,children:(0,E.Y)(l.I,{})})]}),b&&(0,E.Y)(i.T.Hint,{children:Y.formatMessage({id:"QEL+JO",defaultMessage:"This assessment is the root cause of the overall evaluation failure."})})]}),R&&e&&q&&(0,E.Y)("div",{children:(0,E.Y)(E.FK,{children:(0,E.Y)("span",{css:T,dangerouslySetInnerHTML:{__html:q}})})}),G&&(0,E.Y)("div",{css:(0,s.AH)({display:"flex",flexDirection:"column",gap:D.spacing.xs},""),children:(0,E.Y)("span",{css:(0,s.AH)({color:D.colors.textValidationWarning,fontStyle:"italic"},""),children:G})})]}),trigger:J})})},M=({iconOnly:e,hideAssessmentName:t,tagContent:n,active:r,sourceIcon:a,icon:u,iconColor:l,textColor:c,backgroundColor:d,disableSourceTypeIcon:f,hasBeenEditedByHuman:g,onEdit:m})=>{const{theme:v}=(0,i.u)(),h=e?18:12;return(0,E.FD)("div",{css:(0,s.AH)({display:"inline-flex",height:e?h:20,width:e?h:t?"fit-content":"",justifyContent:"space-between",alignItems:"center",padding:e?"0":m?"0 0 0 8px":"0 8px",gap:v.spacing.sm,borderRadius:e?"50%":v.legacyBorders.borderRadiusMd,backgroundColor:d,boxShadow:`inset 0 0 1px 1px ${r?v.colors.borderAccessible:"transparent"}`,fontSize:v.typography.fontSizeSm,svg:{width:h,height:h},whiteSpace:"nowrap"},""),children:[u,n&&(0,E.Y)("span",{css:(0,s.AH)({color:c},""),children:n}),!0!==f?(0,E.Y)("span",{css:(0,s.AH)({color:l},""),children:a}):(0,E.Y)(E.FK,{}),m&&(0,E.Y)(i.B,{componentId:"mlflow.evaluations_review.edit_assessment_button",onClick:m,size:"small",icon:(0,E.Y)(o.PencilIcon,{css:(0,s.AH)({":hover":{color:v.colors.actionDefaultTextHover}},"")})})]})}},13433:function(e,t,n){n.d(t,{G3:function(){return d},N5:function(){return c},_A:function(){return f},aG:function(){return u},bU:function(){return l}});var s=n(59930),r=n.n(s),a=n(76118),i=n(33120),o=n(86125);const u=({traceId:e,assessmentId:t})=>(0,i.ff)(`/ajax-api/3.0/mlflow/traces/${e}/assessments/${t}`,"DELETE"),l=({payload:e})=>(0,i.ff)(`/ajax-api/3.0/mlflow/traces/${e.assessment.trace_id}/assessments`,"POST",e),c=({traceId:e})=>(0,i.ff)(`/ajax-api/3.0/mlflow/traces/${e}`),d=({traceId:e,assessmentId:t,payload:n})=>(0,i.ff)(`/ajax-api/3.0/mlflow/traces/${e}/assessments/${t}`,"PATCH",n),f={searchTracesV4:async({signal:e,orderBy:t,locations:n,filter:s})=>{var r;const a={locations:n,filter:s,max_results:1e3,order_by:t},o=await(0,i.ff)((0,i.we)("ajax-api/4.0/mlflow/traces/search"),"POST",a,e);return null!==(r=null===o||void 0===o?void 0:o.trace_infos)&&void 0!==r?r:[]},getBatchTracesV4:async({traceIds:e,traceLocation:t})=>{const n=(0,a.isString)(t)?t:(0,o.nr)(t),s=(0,i.we)(`ajax-api/4.0/mlflow/traces/${n}/batchGet`),r=new URLSearchParams;for(const a of e)r.append("trace_ids",a);const u=`${s}?${r.toString()}`;return await(0,i.ff)(u,"GET")},getTraceInfoV4:({traceId:e,traceLocation:t})=>{const n=(0,a.isString)(t)?t:(0,o.nr)(t),s=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${n}/${e}/info`)}?${(new URLSearchParams).toString()}`;return(0,i.ff)(s)},createAssessmentV4:({payload:{assessment:e},traceLocation:t})=>{r()(t,"Trace location is required for creating assessment via V4 API");const n=(0,a.isString)(t)?t:(0,o.nr)(t);r()(n,"Trace location could not be resolved");const s=e,u=new URLSearchParams,l=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${n}/${e.trace_id}/assessments`)}?${u.toString()}`;return(0,i.ff)(l,"POST",s)},updateAssessmentV4:({traceId:e,assessmentId:t,payload:n,traceLocation:s})=>{const{assessment:u,update_mask:l}=n;r()(s,"Trace location is required for creating assessment via V4 API");const c=(0,a.isString)(s)?s:(0,o.nr)(s);r()(c,"Trace location could not be resolved");const d=new URLSearchParams;d.append("update_mask",l);const f=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${c}/${e}/assessments/${t}`)}?${d.toString()}`;return(0,i.ff)(f,"PATCH",u)},deleteAssessmentV4:({traceId:e,sqlWarehouseId:t,assessmentId:n,traceLocation:s})=>{const r=new URLSearchParams,a=(0,o.nr)(s),u=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${a}/${e}/assessments/${n}`)}?${r.toString()}`;return(0,i.ff)(u,"DELETE")},setTraceTagV4:async({traceLocation:e,tag:t,traceId:n})=>{const s=(0,o.nr)(e),r=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${s}/${n}/tags`)}?${(new URLSearchParams).toString()}`;return(0,i.ff)(r,"PATCH",t)},deleteTraceTagV4:async({tagKey:e,traceId:t,traceLocation:n})=>{const s=(0,o.nr)(n),r=`${(0,i.we)(`ajax-api/4.0/mlflow/traces/${s}/${t}/tags/${encodeURIComponent(e)}`)}?${(new URLSearchParams).toString()}`;return(0,i.ff)(r,"DELETE")}}},23125:function(e,t,n){n.d(t,{AssessmentSchemaContextProvider:function(){return u.I},ExpectationValuePreview:function(){return r.S},ModelTraceExplorer:function(){return s.a},ModelTraceExplorerSkeleton:function(){return a.F},ModelTraceSpanType:function(){return l.VZ},SESSION_ID_METADATA_KEY:function(){return o.n2},SingleChatTurnMessages:function(){return f.y},TOKEN_USAGE_METADATA_KEY:function(){return o.Uu},TracesServiceV4:function(){return d._A},getAssessmentValue:function(){return c.e},getModelTraceId:function(){return i.MF},getModelTraceSpanParentId:function(){return i.cp},getTotalTokens:function(){return i.tI},isV3ModelTraceInfo:function(){return i.gD},isV3ModelTraceSpan:function(){return i.UZ},tryDeserializeAttribute:function(){return i.xD}});var s=n(14905),r=n(777),a=n(15929);n(46709),n(42747);n(26059);var i=n(86125),o=n(21636),u=n(57248),l=n(94664),c=n(33145),d=n(13433);n(76118),n(85786);n(90828);var f=n(81813)},26059:function(e,t,n){var s=n(68248),r=n(76118),a=n(46709),i=n(25637),o=n(27757),u=n(93846),l=n(73408);var c={name:"1h0bf8r",styles:"body, :host{user-select:none;}"},d={name:"1gtrael",styles:"display:flex;flex:1;overflow:hidden;flex-direction:row"},f={name:"kjqqaz",styles:"width:0;position:relative"};const g=(0,a.forwardRef)((({initialRatio:e,paneWidth:t,setPaneWidth:n,leftChild:g,leftMinWidth:m,rightChild:E,rightMinWidth:v},h)=>{var p;const[N,S]=(0,a.useState)(!1),A=(0,a.useRef)(null),T=null===(p=(0,u.wY)({ref:A}))||void 0===p?void 0:p.width,_=(null!==T&&void 0!==T?T:1/0)-v,M=(0,a.useRef)(e),{theme:R}=(0,o.u)(),y=(0,a.useCallback)((e=>{T&&(M.current=e/T)}),[T]);return(0,a.useImperativeHandle)(h,(()=>({updateRatio:y}))),(0,a.useLayoutEffect)((()=>{T&&n((0,r.clamp)(T*M.current,m,_))}),[T,_,m,v,n]),(0,l.FD)("div",{ref:A,css:d,children:[N&&(0,l.Y)(s.mL,{styles:c}),(0,l.Y)(i.ResizableBox,{axis:"x",width:t,css:(0,s.AH)({display:"flex",flex:`0 0 ${t}px`},""),handle:(0,l.Y)("div",{css:f,children:(0,l.Y)("div",{css:(0,s.AH)({position:"relative",width:R.spacing.sm,marginLeft:-R.spacing.xs,minHeight:"100%",cursor:"ew-resize",backgroundColor:"rgba(0,0,0,0)",zIndex:1,":hover":{backgroundColor:"rgba(0,0,0,0.1)"}},"")})}),onResize:(e,{size:t})=>{const s=(0,r.clamp)(t.width,m,_);n(s),T&&(M.current=s/T)},onResizeStart:()=>S(!0),onResizeStop:()=>S(!1),minConstraints:[m,1/0],maxConstraints:[_,1/0],children:g}),E]})}));t.A=g},27882:function(e,t,n){n.d(t,{T9:function(){return r},ny:function(){return s}});const s=()=>!1,r=()=>1e9},33481:function(e,t,n){n.d(t,{_1:function(){return a},bz:function(){return r},o8:function(){return s}});let s=function(e){return e.Evaluations="_evaluations.json",e.Assessments="_assessments.json",e.Metrics="_metrics.json",e}({}),r=function(e){return e.IS_OVERALL_ASSESSMENT="is_overall_assessment",e.CHUNK_INDEX="chunk_index",e.IS_COPIED_FROM_AI="is_copied_from_ai",e}({}),a=function(e){return e.OVERALL_ASSESSMENT="overall_assessment",e.SAFETY="safety",e.GROUNDEDNESS="groundedness",e.CORRECTNESS="correctness",e.RELEVANCE_TO_QUERY="relevance_to_query",e.CHUNK_RELEVANCE="chunk_relevance",e.CONTEXT_SUFFICIENCY="context_sufficiency",e.GUIDELINE_ADHERENCE="guideline_adherence",e.GLOBAL_GUIDELINE_ADHERENCE="global_guideline_adherence",e.TOTAL_TOKEN_COUNT="agent/total_token_count",e.TOTAL_INPUT_TOKEN_COUNT="agent/total_input_token_count",e.TOTAL_OUTPUT_TOKEN_COUNT="agent/total_output_token_count",e.DOCUMENT_RECALL="retrieval/ground_truth/document_recall",e.DOCUMENT_RATINGS="retrieval/ground_truth/document_ratings",e}({})},38086:function(e,t,n){n.d(t,{N:function(){return o},v:function(){return i}});var s=n(46709),r=n(73408);const a=s.createContext({makeHTML:e=>e}),i=({children:e,makeHtml:t})=>(0,r.Y)(a.Provider,{value:{makeHTML:t},children:e}),o=()=>s.useContext(a)},57248:function(e,t,n){n.d(t,{I:function(){return u},a:function(){return l}});var s=n(46709),r=n(76118),a=n(33145);var i=n(73408);const o=(0,s.createContext)({schemas:[]}),u=({children:e,assessments:t})=>{const n=(0,s.useMemo)((()=>(e=>{const t={},n={};for(const s of e){if(t[s.assessment_name])continue;const e=(0,a.e)(s);if((0,r.isNil)(e)){n[s.assessment_name]={name:s.assessment_name,assessmentType:"feedback"in s?"feedback":"expectation",dataType:"boolean"};continue}const i="expectation"in s&&"serialized_value"in s.expectation;let o;switch(typeof e){case"string":o=i?"json":"string";break;case"boolean":default:o="boolean";break;case"number":o="number"}t[s.assessment_name]={name:s.assessment_name,assessmentType:"feedback"in s?"feedback":"expectation",dataType:o}}for(const[s,r]of Object.entries(n))s in t||(t[s]=r);return Object.values(t)})(t)),[t]),u=(0,s.useMemo)((()=>({schemas:n})),[n]);return(0,i.Y)(o.Provider,{value:u,children:e})},l=()=>(0,s.useContext)(o)},64667:function(e,t,n){n.d(t,{$6:function(){return r},RF:function(){return i},tl:function(){return s},w8:function(){return a}});let s=function(e){return e.EQUALS="=",e.NOT_EQUALS="!=",e.GREATER_THAN=">",e.LESS_THAN="<",e.GREATER_THAN_OR_EQUALS=">=",e.LESS_THAN_OR_EQUALS="<=",e.CONTAINS="CONTAINS",e}({}),r=function(e){return e.ASSESSMENT="ASSESSMENT",e.EXPECTATION="EXPECTATION",e.TRACE_INFO="TRACE_INFO",e.INPUT="INPUT",e.INTERNAL_MONITOR_REQUEST_TIME="INTERNAL_MONITOR_REQUEST_TIME",e}({}),a=function(e){return e.ASSESSMENT="ASSESSMENT",e.EXPECTATION="EXPECTATION",e.TAG="TAG",e.INFO="INFO",e}({});const i={[a.ASSESSMENT]:"Assessments",[a.EXPECTATION]:"Expectations",[a.TAG]:"Tags",[a.INFO]:"\xa0"}},71540:function(e,t,n){n.d(t,{Co:function(){return I},Mq:function(){return _},On:function(){return f},PO:function(){return m},ZS:function(){return S},c7:function(){return h},d9:function(){return p},h:function(){return T},h2:function(){return g},ih:function(){return y},kQ:function(){return l},kZ:function(){return v},kf:function(){return d},nr:function(){return O},nt:function(){return c},p6:function(){return N},v8:function(){return E}});var s=n(76118),r=n(23125),a=n(90448),i=n(33481),o=n(4947),u=n(21636);const l="mlflow.sourceRun",c="mlflow.",d="monitor",f=e=>(null===e||void 0===e?void 0:e.evaluationId)||"",g=e=>(null===e||void 0===e?void 0:e.trace_id)||"",m=e=>e.split(":").pop(),E=e=>e.split(":").pop(),v=e=>`${o.Pn}:${e}`,h=e=>`${o.rc}:${e}`,p=e=>(0,s.uniq)(e.map((e=>Object.keys(e.tags||{}).filter((e=>e&&!e.startsWith(c))))).flat()),N=(e,t)=>e&&t?e.reduce(((e,n)=>{var s;const r=n.assessments||[],a=r.filter((e=>{var n;const s=null===(n=e.metadata)||void 0===n?void 0:n[u.Vg];return!s||s===t}));return(null===(s=n.tags)||void 0===s?void 0:s[u.Ex])?e:a.length===r.length?(e.push(n),e):(e.push({...n,assessments:a}),e)}),[]):e,S=e=>e.length>0&&Boolean(e[0].traceInfo),A=e=>{try{return JSON.parse(e)}catch{return e}},T=e=>{var t;return e.request_preview||e.request||(null===(t=e.trace_metadata)||void 0===t?void 0:t["mlflow.traceInputs"])||""},_=e=>{var t;return e.response_preview||e.response||(null===(t=e.trace_metadata)||void 0===t?void 0:t["mlflow.traceOutputs"])||""},M=["agent/latency_seconds"];const R=e=>{var t,n,s,r,a;const o=null===(t=e.feedback)||void 0===t?void 0:t.value,u=e.assessment_name===i._1.OVERALL_ASSESSMENT,l=(e=>{var t,n,s;if(null===(t=e.source)||void 0===t||!t.source_type)return;const r=null===(n=e.source)||void 0===n?void 0:n.source_type;let a;return a="LLM_JUDGE"===r?"AI_JUDGE":r,{sourceType:a,sourceId:(null===(s=e.source)||void 0===s?void 0:s.source_id)||"",metadata:{}}})(e),c=(null===(n=e.feedback)||void 0===n?void 0:n.error)||e.error;return{name:e.assessment_name,stringValue:"string"===typeof o?o:void 0,booleanValue:"boolean"===typeof o?o:void 0,numericValue:"number"===typeof o?o:void 0,errorCode:null===c||void 0===c?void 0:c.error_code,errorMessage:null===c||void 0===c?void 0:c.error_message,rationale:(null===(s=e.metadata)||void 0===s?void 0:s.root_cause_rationale)||e.rationale,source:l,rootCauseAssessment:u?{assessmentName:(null===(r=e.metadata)||void 0===r?void 0:r.root_cause_assessment)||"",suggestedActions:null===(a=e.metadata)||void 0===a?void 0:a.suggested_action}:void 0,metadata:e.metadata}},y=e=>{var t;const n=g(e),o=[],u={},l={};null===(t=e.assessments)||void 0===t||t.forEach((e=>{const t=e.assessment_name;M.includes(t)||((e=>Boolean("expectation"in e&&e.expectation))(e)?function(e,t){const n=e.assessment_name,s=(0,r.getAssessmentValue)(e);Array.isArray(s)&&s.length>0?t[n]=s.map((e=>A(e))):t[n]="string"===typeof s?A(s):[]}(e,l):function(e,t,n){const s=e.assessment_name,r=R(e);s===i._1.OVERALL_ASSESSMENT&&t.push(r),n[s]||(n[s]=[]),n[s].push(r)}(e,o,u))}));const c=T(e),d=_(e);let f=c,m={},E={};try{var v;m=JSON.parse(c);const e=m.messages;var h;if(Array.isArray(e)&&!(0,s.isNil)(null===(v=e[0])||void 0===v?void 0:v.content))f=null===(h=e[e.length-1])||void 0===h?void 0:h.content;else f=(0,a.ng)(m)}catch{m={request:c}}try{E={response:JSON.parse(d)}}catch{E={response:d}}return{evaluationId:n,requestId:e.client_request_id||n,inputsId:n,inputsTitle:f,inputs:m,outputs:E,targets:l,overallAssessments:o,responseAssessmentsByName:u,metrics:{},traceInfo:e}},I=e=>S(e)?e.map((e=>{if(!e.traceInfo)return e;const t=y(e.traceInfo);return{...e,...t}})):e;function O(e,t){var n,a;if((0,s.isNil)(t))return;let i="doc_uri";const o=t.info.tags;if(null!==o&&void 0!==o&&o.retrievers){const e=A(o.retrievers);"object"===typeof e&&e.length>0&&(i=e[0].doc_uri)}const u=t.data.spans.filter((e=>{var t,n;return(null===(t=e.attributes)||void 0===t?void 0:t["mlflow.spanType"])&&A(null===(n=e.attributes)||void 0===n?void 0:n["mlflow.spanType"])===r.ModelTraceSpanType.RETRIEVER}));if(0===u.length)return[];const l=null===(n=u.at(-1))||void 0===n||null===(a=n.attributes)||void 0===a?void 0:a["mlflow.spanOutputs"];if(!l)return[];const c=A(l);if(!Array.isArray(c))return[];return c.map(((t,n)=>{var s;return{docUrl:null===(s=t.metadata)||void 0===s?void 0:s[i],content:t.page_content,retrievalAssessmentsByName:C(e,n)}}))}const C=(e,t)=>Object.fromEntries(Object.entries(e).map((([e,n])=>[e,n.filter((e=>{var n;return Number(null===e||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.span_output_key)===t}))])).filter((([e,t])=>t.length>0)))},85786:function(e,t,n){n.d(t,{$W:function(){return l.$},C2:function(){return a.C},Es:function(){return s.E},R0:function(){return i.R},ki:function(){return u.k},qd:function(){return r.q},tP:function(){return o.t}});var s=n(51989),r=n(86916),a=n(89602),i=n(5029),o=n(63815),u=n(30679),l=n(21057)},87879:function(e,t,n){n.d(t,{$h:function(){return u},BM:function(){return l},Mr:function(){return m},Pt:function(){return g},SF:function(){return E},n0:function(){return f},p$:function(){return c},vw:function(){return d}});var s=n(76118),r=n(42747),a=n(90081),i=n(73408);const o=1;function u(e,t=o){return Number((100*e).toFixed(t)).toString()}function l(e,t=3){if((0,s.isNil)(e))return"null";const n=Math.pow(10,t);return(Math.round(e*n)/n).toString()}function c(e,t,n){if("numeric"===t.dtype){const e=n.currentNumericValues,t=n.otherNumericValues;let s=NaN,r=NaN;e&&(s=e.reduce(((e,t)=>e+t),0)/e.length),t&&(r=t.reduce(((e,t)=>e+t),0)/t.length);const a=t?s-r:void 0,i=a?a>0?"up":"down":"none";return{displayScore:l(s,2),displayScoreChange:a?"up"===i?`+${l(Math.abs(a),2)}`:"down"===i?`-${l(Math.abs(a),2)}`:"+0":void 0,changeDirection:i,aggregateType:"average"}}if("pass-fail"===t.dtype||"boolean"===t.dtype){const e=0,s=(0,a.jU)(t,n.currentCounts),r=u(s,e)+"%",i=n.otherCounts?s-(0,a.jU)(t,n.otherCounts):void 0,o=i?i>0?"up":"down":"none";return{displayScore:r,displayScoreChange:i?("up"===o||"none"===o?"+":"")+u(i,e)+"%":void 0,changeDirection:o,aggregateType:"percentage-true"}}if("string"===t.dtype){const n=t.uniqueValues.size;return{displayScore:1!==n?e.formatMessage({id:"+dbgRR",defaultMessage:"{numUniqueValues} values"},{numUniqueValues:n}):e.formatMessage({id:"lKyc9r",defaultMessage:"1 value"}),displayScoreChange:"",changeDirection:"none",aggregateType:"categorical"}}return{displayScore:"N/A",displayScoreChange:"N/A",changeDirection:"none",aggregateType:"categorical"}}function d(e,t){return u(t,0)+"%"}function f(e,t,n=!0){if("numeric"===e.dtype){return"up"===(t>0?"up":"down")?`+${l(t,2)}`:`-${l(t,2)}`}{const e=t>=0?"up":"down";return n?"up"===e?`+${u(t,0)}%`:`-${u(-1*t,0)}%`:"up"===e?`+${t}`:`-${t}`}}function g(e,t=new Date){const n=Math.max(0,Math.floor((t-e)/1e3));let s=Math.floor(n/31536e3);return s>=1?(0,i.Y)(r.sA,{id:"16BvfJ",defaultMessage:"{timeSince, plural, =1 {1 year} other {# years}} ago",values:{timeSince:s}}):(s=Math.floor(n/2592e3),s>=1?(0,i.Y)(r.sA,{id:"5ZAXeS",defaultMessage:"{timeSince, plural, =1 {1 month} other {# months}} ago",values:{timeSince:s}}):(s=Math.floor(n/86400),s>=1?(0,i.Y)(r.sA,{id:"tLb7+M",defaultMessage:"{timeSince, plural, =1 {1 day} other {# days}} ago",values:{timeSince:s}}):(s=Math.floor(n/3600),s>=1?(0,i.Y)(r.sA,{id:"aOW396",defaultMessage:"{timeSince, plural, =1 {1 hour} other {# hours}} ago",values:{timeSince:s}}):(s=Math.floor(n/60),s>=1?(0,i.Y)(r.sA,{id:"7jsqqe",defaultMessage:"{timeSince, plural, =1 {1 minute} other {# minutes}} ago",values:{timeSince:s}}):(0,i.Y)(r.sA,{id:"93iLUV",defaultMessage:"{timeSince, plural, =1 {1 second} other {# seconds}} ago",values:{timeSince:n}})))))}function m(e){return e.replace(/([!"#$%&'()*+,\.\/:;\s<=>?@[\\\]^`{|}~])/g,"\\$1")}function E(e,t){return function(e,t,n=[],s){let r=Number(e);if(isNaN(r)||!isFinite(r))return{value:"",numericValue:void 0,unit:"",divisor:1};let a=0,i=1;for(;r>=t&&a<n.length-1;)r/=t,i*=t,a+=1;return{value:v(r,s),numericValue:r,unit:n[a],divisor:i}}(e,1024,["bytes","KB","MB","GB","TB","PB"],t)}function v(e,t=3){return Math.round(e)!==e?e.toFixed(t):e.toString()}},90081:function(e,t,n){n.d(t,{II:function(){return f},J:function(){return u},SA:function(){return T},Yl:function(){return M},aE:function(){return g},jU:function(){return N},pY:function(){return p}});var s=n(76118),r=n(9858),a=n(71540),i=n(10708),o=n(90448);const u="Error";function l(e){return Boolean((null===e||void 0===e?void 0:e.errorCode)||(null===e||void 0===e?void 0:e.errorMessage))}function c(e){const t=e.split("/");return 1===t.length?{metricName:e,assessmentName:e}:2===t.length?{metricName:t[0],assessmentName:t[1]}:{metricName:t[1],assessmentName:t.slice(2).join("/")}}const d=[o.gZ.YES,o.gZ.NO];function f(e,t,n){var r;const a={},i={[o._1.OVERALL_ASSESSMENT]:"pass-fail"},u=new Set;[...t,...n||[]].forEach((e=>{var t;const n=Object.entries(e.responseAssessmentsByName||{}),r=e.overallAssessments.map((e=>[o._1.OVERALL_ASSESSMENT,[e]])),a=[];null===(t=e.retrievalChunks)||void 0===t||t.forEach((e=>{for(const[t,n]of Object.entries(e.retrievalAssessmentsByName||{}))a.push([t,n])}));for(const[c,f]of[...n,...r,...a]){u.add(c);const e=f[0];let t=(0,s.isNil)(e.stringValue)?(0,s.isNil)(e.numericValue)?(0,s.isNil)(e.booleanValue)?void 0:"boolean":"numeric":"pass-fail";l(e)&&(t=void 0),i[c]||(c in o.c9&&(t="pass-fail"),i[c]=t),"pass-fail"!==t||(0,s.isNil)(e.stringValue)||d.includes(e.stringValue)||(i[c]="string"),void 0!==t&&t!==i[c]&&(i[c]="string")}}));for(const s of u)i[s]||(i[s]="unknown");[...t,...n||[]].forEach((t=>{var n;const r=Object.entries(t.responseAssessmentsByName||{}),u=t.overallAssessments.map((e=>[o._1.OVERALL_ASSESSMENT,[e]])),d=[];null===(n=t.retrievalChunks)||void 0===n||n.forEach((e=>{for(const[t,n]of Object.entries(e.retrievalAssessmentsByName||{}))d.push([t,n])}));const f=Object.keys(i);for(const N of f){const t=[...r.filter((([e])=>e===N)),...u.filter((([e])=>e===N)),...d.filter((([e])=>e===N))].map((([e,t])=>t[0]))[0],n=l(t);if((0,s.isNil)(a[N])){var g,m,E;let s,r,u=!1;const l=void 0!==o.c9[N];if(l)s=e.formatMessage(o.c9[N]),r=N,u=!1;else{var v;const{metricName:e,assessmentName:n}=c(N);s=n||"-",r=e,"CODE"===(null===t||void 0===t||null===(v=t.source)||void 0===v?void 0:v.sourceType)&&(u=!0)}const f=i[N]||"string",h=(0,o.FN)(o.pZ[N]),p=N in o.jr?e.formatMessage(o.jr[N]):"",S=N in o.mS?e.formatMessage(o.mS[N]):"HUMAN"===(null===t||void 0===t||null===(g=t.source)||void 0===g?void 0:g.sourceType)?e.formatMessage({id:"z94r4F",defaultMessage:"This assessment is produced by a human judge."}):e.formatMessage({id:"lQ2nDn",defaultMessage:"This assessment is produced by a custom metric."});let A=t?(0,o.Zh)(t):void 0;null===A&&(A=void 0);const T=new Set;n||T.add(A),a[N]={name:N,displayName:s,isKnown:l,metricName:r,isCustomMetric:u,source:null===t||void 0===t?void 0:t.source,dtype:f,uniqueValues:T,isOverall:N===o._1.OVERALL_ASSESSMENT,docsLink:h,missingTooltip:p,description:S,isEditable:"AI_JUDGE"===(null===t||void 0===t||null===(m=t.source)||void 0===m?void 0:m.sourceType)||"HUMAN"===(null===t||void 0===t||null===(E=t.source)||void 0===E?void 0:E.sourceType),isRetrievalAssessment:d.some((([e])=>e===N)),containsErrors:n}}else{const e=a[N];let r=t?(0,o.Zh)(t):void 0;var h,p;if((0,s.isNil)(r)&&(r=void 0),n||e.uniqueValues.add(r),!e.isEditable)e.isEditable="AI_JUDGE"===(null===t||void 0===t||null===(h=t.source)||void 0===h?void 0:h.sourceType)||"HUMAN"===(null===t||void 0===t||null===(p=t.source)||void 0===p?void 0:p.sourceType);e.isRetrievalAssessment=e.isRetrievalAssessment||d.some((([e])=>e===N)),e.containsErrors=e.containsErrors||n}}}));const f=(null===(r=a[o._1.OVERALL_ASSESSMENT])||void 0===r?void 0:r.uniqueValues)||new Set;return f.has(o.gZ.YES)||f.has(o.gZ.NO)||delete a[o._1.OVERALL_ASSESSMENT],g(Object.values(a))}function g(e){return e.sort(((e,t)=>{const n=o.kp.indexOf(e.name),s=o.kp.indexOf(t.name);return-1!==n&&-1!==s?n-s:-1!==n?-1:-1!==s?1:e.name.localeCompare(t.name)}))}function m(e,t){if("numeric"!==e.dtype)return;return function(e){if(0===e.length)return;const t=[],n=Math.min(...e),s=Math.max(...e),r=Math.max(.01,(s-n)/10);let a=0;if(n===s)t.push({lower:n,upper:s,count:e.length});else for(let i=n;i<s;i+=r)t.push({lower:i,upper:Math.min(i+r,s),count:0});t.sort(((e,t)=>e.lower-t.lower));for(const i of e){const e=t.find((e=>i>=e.lower&&(i<e.upper||i===e.upper&&i===s)));e&&(e.count++,a=Math.max(a,e.count))}return{min:n,max:s,maxCount:a,counts:t}}(t.flatMap((t=>{const n=e.isOverall?t.overallAssessments:t.responseAssessmentsByName[e.name];return null===n||void 0===n?void 0:n.map((e=>(0,o.Zh)(e))).filter((e=>void 0!==e&&"number"===typeof e))})).filter((e=>!(0,s.isNil)(e))))}function E(e,t){if("numeric"===e.dtype)return;const n=new Map;return t.forEach((t=>{const s=e.isOverall?t.overallAssessments:t.responseAssessmentsByName[e.name],r=s&&s.length>0?M(e,s):[{value:void 0,count:1}],a=e.containsErrors?[u,...e.uniqueValues]:e.uniqueValues;for(const e of a){const t=r.find((t=>t.value===e)),s=t?t.count:0;n.set(e,(n.get(e)||0)+s)}})),n}function v(e,t){if("numeric"!==e.dtype)return;const n=[];return t.forEach((t=>{const r=e.isOverall?(0,s.first)(t.overallAssessments):(0,s.first)(t.responseAssessmentsByName[e.name]);if(r){const e=(0,o.Zh)(r);(0,s.isNil)(e)||n.push(Number(e))}})),n}function h(e,t){let n=0;return t.forEach((t=>{var r;if((0,s.isNil)(t))return;const a=(0,s.first)(t.overallAssessments);(null===a||void 0===a||null===(r=a.rootCauseAssessment)||void 0===r?void 0:r.assessmentName)===e.name&&n++})),n}function p(e,t,n){const r=t.map((e=>e.currentRunValue)).filter((e=>!(0,s.isNil)(e))),a=t.map((e=>e.otherRunValue)).filter((e=>!(0,s.isNil)(e))),i=E(e,r),o=E(e,a),u=m(e,r),l=n.filter((t=>t.assessmentName===e.name));return{assessmentInfo:e,currentCounts:i,otherCounts:o,currentNumericValues:v(e,r),otherNumericValues:v(e,a),currentNumericAggregate:u,currentNumRootCause:h(e,r),otherNumRootCause:h(e,a),assessmentFilters:l}}function N(e,t=new Map){if("pass-fail"===e.dtype||"boolean"===e.dtype){let n=0,r=0;for(const[a,o]of t)(0,i.g)(e,a)&&(r+=o),(0,s.isNil)(a)||a===u||(n+=o);return n>0?r/n:0}return 0}function S(e,t,n,s,r,a,i){let o=0;const l=s===u||void 0===s;for(const[f,g]of r)void 0!==f&&f!==u&&(o+=g);const c=r.get(s)||0,d=!l&&o>0?c/o:0;return{value:r.get(s)||0,fraction:d,isSelected:n.some((e=>e.filterValue===s&&e.assessmentName===t.name&&e.run===a)),toggleFilter:()=>i(t.name,s,a,undefined),tooltip:l?e.formatMessage({id:"joh88n",defaultMessage:'{numValue} for run "{runName}"'},{numValue:c,runName:a}):e.formatMessage({id:"jjidVr",defaultMessage:'{numValue}/{numEvals} for run "{runName}"'},{numValue:c,numEvals:o,runName:a})}}function A(e){const t=function(e){const t=Array.from(e.uniqueValues);if("pass-fail"===e.dtype){t.includes(o.gZ.YES)||t.push(o.gZ.YES),t.includes(o.gZ.NO)||t.push(o.gZ.NO);const e=[o.gZ.YES,o.gZ.NO];return t.sort(((t,n)=>e.indexOf(t)-e.indexOf(n)))}if("boolean"===e.dtype)return t.sort(((e,t)=>!0===e?-1:1));return t.sort()}(e);return e.containsErrors&&t.push(u),t}function T(e,t,n,s,i,o,l,c){const d=void 0!==o.otherCounts,f=[];for(const g of A(n)){const m=o.currentCounts?S(e,n,s,g,o.currentCounts,l||a.kf,i):void 0,E=d&&c?S(e,n,s,g,o.otherCounts||new Map,c,i):void 0,v=g===u||void 0===g,h=d&&m&&E?v?m.value-((null===E||void 0===E?void 0:E.value)||0):m.fraction-((null===E||void 0===E?void 0:E.fraction)||0):void 0;m&&(!v||0!==m.value||h&&0!==h)&&f.push({name:_(e,t,n,g),current:m,other:E,backgroundColor:(0,r.QO)(t,n,g,g===u),scoreChange:h})}return f}function _(e,t,n,r){return"pass-fail"===n.dtype?r===o.gZ.YES?e.formatMessage({id:"nDVJ/n",defaultMessage:"Pass"}):r===o.gZ.NO?e.formatMessage({id:"7Dhfxy",defaultMessage:"Fail"}):r===u?e.formatMessage({id:"gPWxlB",defaultMessage:"Error"}):e.formatMessage({id:"keSIQ4",defaultMessage:"null"}):"boolean"===n.dtype?!0===r?e.formatMessage({id:"1Ujhc3",defaultMessage:"True"}):!1===r?e.formatMessage({id:"nvjkTA",defaultMessage:"False"}):e.formatMessage({id:"keSIQ4",defaultMessage:"null"}):(0,s.isNil)(r)?"null":`${r}`}function M(e,t){const n=t.filter((t=>t.name===e.name));let s=new Set;for(const u of n){const e=(0,o.Zh)(u);s.add(e)}n.sort(((e,t)=>(t.timestamp||0)-(e.timestamp||0)));const r=n.filter((e=>l(e))),a=n.filter((e=>!l(e)));s=new Set;for(const u of a){const e=(0,o.Zh)(u);s.add(e)}const i=[];for(const u of s){const e=n.filter((e=>(0,o.Zh)(e)===u)),t=e.length;i.push({value:u,count:t,latestAssessment:e[0]})}return r.length>0&&i.push({value:u,count:r.length,latestAssessment:r[0]}),i}},90448:function(e,t,n){n.d(t,{Au:function(){return A},CH:function(){return F},ER:function(){return U},FN:function(){return m},II:function(){return b},PB:function(){return x},Pp:function(){return G},Qq:function(){return O},UN:function(){return S},Wp:function(){return B},Xe:function(){return k},YZ:function(){return Y},Zh:function(){return L},_1:function(){return f},aj:function(){return V},bz:function(){return p},c9:function(){return T},eB:function(){return N},fu:function(){return w},gZ:function(){return v},hG:function(){return C},ik:function(){return D},jr:function(){return _},kp:function(){return g},mS:function(){return M},ng:function(){return z},pZ:function(){return E},rU:function(){return H},sw:function(){return I},uU:function(){return h},vP:function(){return j},w_:function(){return $},xO:function(){return P},yQ:function(){return R}});var s=n(68248),r=n(76118),a=n(74060),i=n(27757),o=n(42747),u=n(44666),l=n(9858),c=n(73408);const d="messages";let f=function(e){return e.OVERALL_ASSESSMENT="overall_assessment",e.SAFETY="safety",e.GROUNDEDNESS="groundedness",e.RETRIEVAL_GROUNDEDNESS="retrieval_groundedness",e.CORRECTNESS="correctness",e.RELEVANCE_TO_QUERY="relevance_to_query",e.CHUNK_RELEVANCE="chunk_relevance",e.RETRIEVAL_RELEVANCE="retrieval_relevance",e.CONTEXT_SUFFICIENCY="context_sufficiency",e.RETRIEVAL_SUFFICIENCY="retrieval_sufficiency",e.GUIDELINE_ADHERENCE="guideline_adherence",e.GUIDELINES="guidelines",e.GLOBAL_GUIDELINE_ADHERENCE="global_guideline_adherence",e}({});const g=[f.OVERALL_ASSESSMENT,f.CORRECTNESS,f.GLOBAL_GUIDELINE_ADHERENCE,f.GUIDELINE_ADHERENCE,f.GUIDELINES,f.RELEVANCE_TO_QUERY,f.CONTEXT_SUFFICIENCY,f.RETRIEVAL_SUFFICIENCY,f.CHUNK_RELEVANCE,f.RETRIEVAL_RELEVANCE,f.GROUNDEDNESS,f.RETRIEVAL_GROUNDEDNESS,f.SAFETY],m=e=>"https://mlflow.org/docs/latest/genai/eval-monitor/scorers/llm-judge/",E={[f.OVERALL_ASSESSMENT]:{basePath:"/generative-ai/agent-evaluation/llm-judge-metrics",hash:"how-quality-is-assessed-by-llm-judges"},[f.CORRECTNESS]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"correctness"},[f.GROUNDEDNESS]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"groundedness"},[f.RETRIEVAL_GROUNDEDNESS]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"groundedness"},[f.RELEVANCE_TO_QUERY]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"answer-relevance"},[f.SAFETY]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"safety"},[f.CHUNK_RELEVANCE]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"chunk-relevance-precision"},[f.RETRIEVAL_RELEVANCE]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"chunk-relevance-precision"},[f.CONTEXT_SUFFICIENCY]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"context-sufficiency"},[f.RETRIEVAL_SUFFICIENCY]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"context-sufficiency"},[f.GUIDELINE_ADHERENCE]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"guideline-adherence"},[f.GUIDELINES]:{basePath:"/generative-ai/agent-evaluation/llm-judge-reference",hash:"guideline-adherence"}};let v=function(e){return e.YES="yes",e.NO="no",e.UNKNOWN="unknown",e}({});function h(e,t,n,r){return"pass-fail"===n.dtype?r===v.YES?{content:e.formatMessage({id:"pm1RNL",defaultMessage:"Pass"}),icon:(0,c.Y)("span",{css:(0,s.AH)({color:`${(0,l.CY)(t,n,{stringValue:v.YES})} !important`,svg:{width:"12px",height:"12px"}},""),children:(0,c.Y)(a.CheckCircleIcon,{css:(0,s.AH)({backgroundColor:(0,l.x2)(t,n,{stringValue:v.YES}),borderRadius:"50%"},"")})})}:r===v.NO?{content:e.formatMessage({id:"9cTaBs",defaultMessage:"Fail"}),icon:(0,c.Y)("span",{css:(0,s.AH)({color:`${(0,l.CY)(t,n,{stringValue:v.NO})} !important`,svg:{width:"12px",height:"12px"}},""),children:(0,c.Y)(a.XCircleIcon,{css:(0,s.AH)({backgroundColor:(0,l.x2)(t,n,{stringValue:v.NO}),borderRadius:"50%"},"")})})}:{content:e.formatMessage({id:"27XMby",defaultMessage:"Missing"}),icon:(0,c.Y)("span",{css:(0,s.AH)({color:`${(0,l.CY)(t,n,{stringValue:v.UNKNOWN})} !important`,svg:{width:"12px",height:"12px"}},""),children:(0,c.Y)(i.W,{css:(0,s.AH)({backgroundColor:(0,l.x2)(t,n,{stringValue:v.UNKNOWN}),borderRadius:"50%"},"")})})}:"boolean"===n.dtype?!0===r?{content:e.formatMessage({id:"1Ujhc3",defaultMessage:"True"})}:!1===r?{content:e.formatMessage({id:"nvjkTA",defaultMessage:"False"})}:{content:e.formatMessage({id:"keSIQ4",defaultMessage:"null"})}:{content:`${r}`}}let p=function(e){return e.IS_OVERALL_ASSESSMENT="is_overall_assessment",e.CHUNK_INDEX="chunk_index",e.IS_COPIED_FROM_AI="is_copied_from_ai",e}({});const N={response:(0,o.zR)({id:"WiaEQ3",defaultMessage:"Model output"})},S="expected_facts",A={expected_response:(0,o.zR)({id:"CX8ytv",defaultMessage:"Expected output"}),[S]:(0,o.zR)({id:"N1G2a5",defaultMessage:"Expected facts"})},T={[f.OVERALL_ASSESSMENT]:(0,o.zR)({id:"uoJWOm",defaultMessage:"Overall"}),[f.CORRECTNESS]:(0,o.zR)({id:"7+XQ3q",defaultMessage:"Correctness"}),[f.GROUNDEDNESS]:(0,o.zR)({id:"Ws58cc",defaultMessage:"Groundedness"}),[f.RETRIEVAL_GROUNDEDNESS]:(0,o.zR)({id:"wY58OE",defaultMessage:"Retrieval groundedness"}),[f.CONTEXT_SUFFICIENCY]:(0,o.zR)({id:"GRaplV",defaultMessage:"Context sufficiency"}),[f.RETRIEVAL_SUFFICIENCY]:(0,o.zR)({id:"mdzFsD",defaultMessage:"Retrieval sufficiency"}),[f.RELEVANCE_TO_QUERY]:(0,o.zR)({id:"Yhydp3",defaultMessage:"Relevance"}),[f.SAFETY]:(0,o.zR)({id:"jMUqD1",defaultMessage:"Safety"}),[f.CHUNK_RELEVANCE]:(0,o.zR)({id:"qnMgLj",defaultMessage:"Chunk relevance"}),[f.RETRIEVAL_RELEVANCE]:(0,o.zR)({id:"opUoF8",defaultMessage:"Retrieval relevance"}),[f.GUIDELINE_ADHERENCE]:(0,o.zR)({id:"xV6NWF",defaultMessage:"Guideline adherence"}),[f.GUIDELINES]:(0,o.zR)({id:"ls3868",defaultMessage:"Guidelines"}),[f.GLOBAL_GUIDELINE_ADHERENCE]:(0,o.zR)({id:"tUAhDM",defaultMessage:"Global guideline adherence"})},_={[f.CORRECTNESS]:(0,o.zR)({id:"i7UTwK",defaultMessage:"Correctness assessment is missing. This is likely because you have not provided an expected response (ground truth) or grading notes."}),[f.GROUNDEDNESS]:(0,o.zR)({id:"jPW0Lj",defaultMessage:"Groundedness assessment is missing. This is likely because your agent is not returning retrieved_context."}),[f.RETRIEVAL_GROUNDEDNESS]:(0,o.zR)({id:"TXPJuE",defaultMessage:"Retrieval Groundedness assessment is missing. This is likely because your agent is not returning retrieved_context."}),[f.CONTEXT_SUFFICIENCY]:(0,o.zR)({id:"g0tloS",defaultMessage:"Context sufficiency assessment is missing. This is likely because your agent is not returning retrieved_context."}),[f.RETRIEVAL_SUFFICIENCY]:(0,o.zR)({id:"ffIouW",defaultMessage:"Retrieval sufficiency assessment is missing. This is likely because your agent is not returning retrieved_context."})},M={[f.OVERALL_ASSESSMENT]:(0,o.zR)({id:"hW5ehW",defaultMessage:"The overall assessment passes when all of the judges pass."}),[f.CORRECTNESS]:(0,o.zR)({id:"Y6gWro",defaultMessage:"The correctness LLM judge gives a binary evaluation and written rationale on whether the agent's generated response is factually accurate and semantically similar to the provided ground-truth response or grading notes."}),[f.GROUNDEDNESS]:(0,o.zR)({id:"+Wd9fs",defaultMessage:"The groundedness LLM judge returns a binary evaluation and written rationale on whether the generated response is factually consistent with the agent's retrieved context."}),[f.RETRIEVAL_GROUNDEDNESS]:(0,o.zR)({id:"6Q/0BO",defaultMessage:"The retrieval groundedness LLM judge returns a binary evaluation and written rationale on whether the generated response is factually consistent with the agent's retrieved context."}),[f.RELEVANCE_TO_QUERY]:(0,o.zR)({id:"oDwj2g",defaultMessage:"The relevance_to_query LLM judge determines whether the response is relevant to the input request."}),[f.SAFETY]:(0,o.zR)({id:"/gqx4n",defaultMessage:"The safety LLM judge returns a binary rating and a written rationale on whether the generated response has harmful or toxic content."}),[f.CHUNK_RELEVANCE]:(0,o.zR)({id:"aUOkOC",defaultMessage:"The chunk-relevance-precision LLM judge determines whether the chunks returned by the retriever are relevant to the input request. Precision is calculated as the number of relevant chunks returned divided by the total number of chunks returned. For example, if the retriever returns four chunks, and the LLM judge determines that three of the four returned documents are relevant to the request, then llm_judged/chunk_relevance/precision is 0.75."}),[f.RETRIEVAL_RELEVANCE]:(0,o.zR)({id:"rBydei",defaultMessage:"The retrieval-relevance LLM judge determines whether the chunks returned by the retriever are relevant to the input request. Precision is calculated as the number of relevant chunks returned divided by the total number of chunks returned. For example, if the retriever returns four chunks, and the LLM judge determines that three of the four returned documents are relevant to the request, then llm_judged/chunk_relevance/precision is 0.75."}),[f.CONTEXT_SUFFICIENCY]:(0,o.zR)({id:"bkWot5",defaultMessage:"The context sufficiency LLM judge determines whether the retrieved context is sufficient to generate the expected response."}),[f.RETRIEVAL_SUFFICIENCY]:(0,o.zR)({id:"fwxkdN",defaultMessage:"The retrieval sufficiency LLM judge determines whether the retrieved context is sufficient to generate the expected response."}),[f.GUIDELINE_ADHERENCE]:(0,o.zR)({id:"4Tg5Vr",defaultMessage:"The guideline adherence LLM judge determines whether the response adheres to the guidelines provided."}),[f.GUIDELINES]:(0,o.zR)({id:"98v9a0",defaultMessage:"The guidelines LLM judge determines whether the response adheres to the guidelines provided. All responses must adhere to guidelines."}),[f.GLOBAL_GUIDELINE_ADHERENCE]:(0,o.zR)({id:"zZ9sIi",defaultMessage:"The global guideline adherence LLM judge determines whether the response adheres to the global guidelines provided. All responses must adhere to global guidelines."})},R={[f.OVERALL_ASSESSMENT]:{[v.YES]:(0,o.zR)({id:"Za9+Cg",defaultMessage:"Pass"}),[v.NO]:(0,o.zR)({id:"j77+aP",defaultMessage:"Fail"})},[f.CHUNK_RELEVANCE]:{[v.YES]:(0,o.zR)({id:"B1Upnc",defaultMessage:"Relevant"}),[v.NO]:(0,o.zR)({id:"M+HfWb",defaultMessage:"Irrelevant"})},[f.RETRIEVAL_RELEVANCE]:{[v.YES]:(0,o.zR)({id:"++039K",defaultMessage:"Relevant"}),[v.NO]:(0,o.zR)({id:"akmaST",defaultMessage:"Irrelevant"})},[f.CONTEXT_SUFFICIENCY]:{[v.YES]:(0,o.zR)({id:"7S/ozs",defaultMessage:"Context sufficient"}),[v.NO]:(0,o.zR)({id:"aAAHaS",defaultMessage:"Context insufficient"})},[f.RETRIEVAL_SUFFICIENCY]:{[v.YES]:(0,o.zR)({id:"rBIGDf",defaultMessage:"Sufficient"}),[v.NO]:(0,o.zR)({id:"lhFnAG",defaultMessage:"Insufficient"})},[f.RELEVANCE_TO_QUERY]:{[v.YES]:(0,o.zR)({id:"rNkAcB",defaultMessage:"Relevant"}),[v.NO]:(0,o.zR)({id:"0M7VVC",defaultMessage:"Irrelevant"})},[f.GROUNDEDNESS]:{[v.YES]:(0,o.zR)({id:"/2InJv",defaultMessage:"Grounded"}),[v.NO]:(0,o.zR)({id:"ZfsnMj",defaultMessage:"Not grounded"})},[f.RETRIEVAL_GROUNDEDNESS]:{[v.YES]:(0,o.zR)({id:"e515YD",defaultMessage:"Grounded"}),[v.NO]:(0,o.zR)({id:"uSVfB9",defaultMessage:"Not grounded"})},[f.CORRECTNESS]:{[v.YES]:(0,o.zR)({id:"eSxQmg",defaultMessage:"Correct"}),[v.NO]:(0,o.zR)({id:"LhxSrc",defaultMessage:"Incorrect"})},[f.SAFETY]:{[v.YES]:(0,o.zR)({id:"DMOaoR",defaultMessage:"Safe"}),[v.NO]:(0,o.zR)({id:"CX/MSu",defaultMessage:"Unsafe"})},[f.GUIDELINE_ADHERENCE]:{[v.YES]:(0,o.zR)({id:"ZNYFUr",defaultMessage:"Adheres to guidelines"}),[v.NO]:(0,o.zR)({id:"hIBLi9",defaultMessage:"Violates guidelines"})},[f.GUIDELINES]:{[v.YES]:(0,o.zR)({id:"luV/3W",defaultMessage:"Adheres to guidelines"}),[v.NO]:(0,o.zR)({id:"WmgIQ+",defaultMessage:"Violates guidelines"})},[f.GLOBAL_GUIDELINE_ADHERENCE]:{[v.YES]:(0,o.zR)({id:"mtYPI8",defaultMessage:"Adheres to global guidelines"}),[v.NO]:(0,o.zR)({id:"rZyNgx",defaultMessage:"Violates global guidelines"})}},y=e=>{var t;return"AI_JUDGE"===(null===e||void 0===e||null===(t=e.source)||void 0===t?void 0:t.sourceType)},I=e=>{let t=O(e,"request");return(0,r.isNil)(t)&&(t=O(e,d)),(0,r.isNil)(t)&&!(0,r.isNil)(e.inputs)&&Object.keys(e.inputs).length>0&&(t=z(e.inputs)),((0,r.isNil)(t)||""===t)&&(t=e.evaluationId),t},O=(e,t)=>{var n,s;if(!(0,r.isNil)(e.inputsTitle))return"string"===typeof e.inputsTitle?e.inputsTitle:JSON.stringify(e.inputsTitle);let a;const i=e.inputs[t];var o;if((0,r.isPlainObject)(i)&&!(0,r.isNil)(i[d])&&Array.isArray(i[d])&&!(0,r.isNil)(null===(n=i[d][0])||void 0===n?void 0:n.content))a=null===(o=i[d][i[d].length-1])||void 0===o?void 0:o.content;else if((0,r.isNil)(i)||!Array.isArray(i)||(0,r.isNil)(null===(s=i[0])||void 0===s?void 0:s.content))a=i?z(i):void 0;else{var u;a=null===(u=i[i.length-1])||void 0===u?void 0:u.content}return a},C=e=>{var t;return!0===(null===(t=e.metadata)||void 0===t?void 0:t[p.IS_OVERALL_ASSESSMENT])},b=e=>{var t;return(0,r.isNumber)(null===(t=e.metadata)||void 0===t?void 0:t[p.CHUNK_INDEX])},L=e=>{var t,n;const s=null!==(t=null!==(n=e.stringValue)&&void 0!==n?n:e.numericValue)&&void 0!==t?t:e.booleanValue;if(!(0,r.isNil)(s))return s};function w(e,t){let n=e;const s=n.startsWith("#");s&&(n=e.slice(1));return`${s?"#":""}${n}${Math.round(255*Math.min(Math.max(t,0),1)).toString(16).toUpperCase()}`}const x=[f.GUIDELINE_ADHERENCE,f.GUIDELINES,f.GLOBAL_GUIDELINE_ADHERENCE,f.RELEVANCE_TO_QUERY,f.CONTEXT_SUFFICIENCY,f.RETRIEVAL_SUFFICIENCY,f.CORRECTNESS,f.GROUNDEDNESS,f.RETRIEVAL_GROUNDEDNESS,f.SAFETY],U=[f.CHUNK_RELEVANCE],V=({name:e,isOverallAssessment:t,value:n,rationale:s,metadata:r={}})=>{var a;const i=null!==(a=(0,u.w)())&&void 0!==a?a:"";return{booleanValue:"boolean"===typeof n?n:null,numericValue:null,stringValue:"boolean"!==typeof n?n:null,name:e,metadata:t?{...r,[p.IS_OVERALL_ASSESSMENT]:!0}:r,rationale:null!==s&&void 0!==s?s:null,source:{sourceId:i,sourceType:"HUMAN",metadata:{}},timestamp:Date.now(),isDraft:!0}},D=(e,t)=>e.overallAssessments.length>0&&e.overallAssessments.every(y)&&!t.some(C),Y=e=>{var t;const n=e.overallAssessments.find(y);if(!n)return null;const s=null!==(t=(0,u.w)())&&void 0!==t?t:"";return{...n,timestamp:Date.now(),isDraft:!0,source:{sourceType:"HUMAN",sourceId:s,metadata:{}},metadata:{...n.metadata,[p.IS_COPIED_FROM_AI]:!0}}},F=e=>"isDraft"in e&&e.isDraft,k=e=>(0,r.orderBy)(Object.entries(e),(([e,t],n)=>{const s=g.indexOf(e);return-1!==s?s:null!==(r=null===(a=t[t.length-1])||void 0===a?void 0:a.timestamp)&&void 0!==r?r:n;var r,a})),j=e=>{var t,n;return null!==(t=null===(n=e.overallAssessments)||void 0===n?void 0:n.filter((e=>!F(e))).some((e=>!y(e))))&&void 0!==t&&t},$=e=>{var t,n;return"HUMAN"===(null===(t=e.source)||void 0===t?void 0:t.sourceType)&&!(null!==(n=e.metadata)&&void 0!==n&&n[p.IS_COPIED_FROM_AI])},G=e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t[p.CHUNK_INDEX]},z=e=>(0,r.isPlainObject)(e)||Array.isArray(e)?JSON.stringify(e,void 0,2):e,H=(e,t,n,s)=>{if(t){const n=R[t.name];return n?Object.entries(n).map((([n,s])=>({key:n,label:e.formatMessage(s),rootAssessmentName:t.name}))):[]}return(s||[]).filter((e=>"boolean"===e.dtype)).map((e=>({key:e.name,label:e.name,rootAssessmentName:e.name,disabled:null===n||void 0===n?void 0:n.some((t=>t.name===e.name))})))},P=e=>{if(e){const t=Boolean(e.rationale),n=!(0,r.isNil)(L(e)),s=Boolean(e.errorMessage);return!(t||n||s)}return!1},B=e=>Array.isArray(e)&&e.every((e=>(0,r.isPlainObject)(e)&&"doc_uri"in e&&"content"in e))},90828:function(e,t,n){n.d(t,{Y7:function(){return u},nt:function(){return a},oD:function(){return i},pt:function(){return o}});var s=n(76118),r=n.n(s);const a="mlflow.",i=e=>!e.startsWith(a)&&!e.startsWith("_mlflow_"),o=e=>{try{return JSON.parse(e)}catch(t){return}},u=(e,t)=>{const n=r().truncate(e,{length:t});return r().takeWhile(n,(e=>"\n"!==e)).join("")}},93241:function(e,t,n){n.d(t,{F9:function(){return o},Mq:function(){return a},UK:function(){return s},ij:function(){return r},pR:function(){return i}});const s=()=>!1,r=()=>!0,a=()=>500,i=()=>1e3,o=()=>!1},93846:function(e,t,n){n.d(t,{Mj:function(){return o.Mj},Ub:function(){return a},wY:function(){return i}});var s=n(46709),r=n(69103);function a(e){return function(e){return(0,r.useSyncExternalStore)(s.useCallback((t=>(e.addEventListener("change",t),()=>{e.removeEventListener("change",t)})),[e]),(()=>e.matches))}(s.useMemo((()=>window.matchMedia(e)),[e]))}function i({ref:e,debounceTimeMs:t}){const n=(0,s.useRef)({width:-1,height:-1}),r=(0,s.useRef)(),[a,i]=(0,s.useState)(null),o=(0,s.useCallback)((e=>{if(0===e.length)return;const s=e[0].contentRect;if(-1===n.current.width)return n.current={width:s.width,height:s.height},void i(n.current);if(s.width!==n.current.width||s.height!==n.current.height){if(n.current.width=s.width,n.current.height=s.height,!t)return void i({...n.current});clearTimeout(r.current),r.current=setTimeout((()=>{i({...n.current})}),t)}}),[t]),u=(0,s.useRef)();return u.current||(u.current=new ResizeObserver(o)),(0,s.useEffect)((()=>{const t="function"===typeof e?e():e.current;if(t){const e=u.current;return e.observe(t),()=>e.unobserve(t)}})),a}var o=n(53637)}}]);